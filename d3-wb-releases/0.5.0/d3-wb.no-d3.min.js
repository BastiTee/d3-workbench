function spiralHeatmap(){function t(t){function u(t){let e=n*r,o=360/a,c=t.length,u=Math.ceil(c/a),d=n*(1-r)/(u+1);return t.forEach(function(t,n){let r=Math.floor(n/a),c=n-r*a,u=c*o,s=(c+1)*o,h=e+n/a*d,p=e+n/a*d+d*(1-i),g=e+(n+1)/a*d,b=e+(n+1)/a*d+d*(1-i);t.x1=f(u,h),t.y1=l(u,h),t.x2=f(s,g),t.y2=l(s,g),t.x3=f(s,b),t.y3=l(s,b),t.x4=f(u,p),t.y4=l(u,p);let y=u+o/2,m=e+(n+.5)/a*d,v=e+(n+.5)/a*d+d*(1-i);t.mid1x=f(y,m),t.mid1y=l(y,m),t.mid2x=f(y,v),t.mid2y=l(y,v),t.controlPoint1x=(t.mid1x-.25*t.x1-.25*t.x2)/.5,t.controlPoint1y=(t.mid1y-.25*t.y1-.25*t.y2)/.5,t.controlPoint2x=(t.mid2x-.25*t.x3-.25*t.x4)/.5,t.controlPoint2y=(t.mid2y-.25*t.y3-.25*t.y4)/.5,t.arcNumber=c,t.coilNumber=r}),t}function f(t,n){let r=360-t;return r+=180,n*Math.sin(r*e)}function l(t,n){let r=360-t;return r+=180,n*Math.cos(r*e)}t.each(function(t){const e=360/a,r=n+20;for(var i=[],d=0;d<a;d++)i.push(d);u(t);let s=d3.select(this).append("g").attr("class","spiral-heatmap");var h=s.selectAll(".arc-label").data(i).enter().append("g").attr("class","arc-label");h.append("text").text(function(e){return t[e][o]}).attr("x",function(t,n){return f(n*e+e/2,r)}).attr("y",function(t,n){return l(n*e+e/2,r)}).style("text-anchor",function(t,e){return e<i.length/2?"start":"end"}),h.append("line").attr("x2",function(t,r){return f(r*e,n+10)}).attr("y2",function(t,r){return l(r*e,n+10)});var p=s.selectAll(".arc").data(t).enter().append("g").attr("class","arc");p.append("path").attr("d",function(t){return"M "+t.x1+" "+t.y1+" "+(" Q "+t.controlPoint1x+" "+t.controlPoint1y+" "+t.x2+" "+t.y2)+" "+("L "+t.x3+" "+t.y3)+" "+(" Q "+t.controlPoint2x+" "+t.controlPoint2y+" "+t.x4+" "+t.y4)+" Z"}),""!=c&&(coilLabels=p.filter(function(t){return 0==t.arcNumber}).raise(),coilLabels.append("path").attr("id",function(t){return"path-"+t[c]}).attr("d",function(t){return"M "+t.x1+" "+t.y1+(" Q "+t.controlPoint1x+" "+t.controlPoint1y+" "+t.x2+" "+t.y2)}).style("opacity",0),coilLabels.append("text").attr("class","coil-label").attr("x",3).attr("dy",-4).append("textPath").attr("xlink:href",function(t){return"#path-"+t[c]}).text(function(t){return t[c]}))})}const e=.0174532925;var n=250,r=.3,a=12,i=0,o="",c="";return t.radius=function(e){return arguments.length?(n=e,t):n},t.holeRadiusProportion=function(e){return arguments.length?(r=e,t):r},t.arcsPerCoil=function(e){return arguments.length?(a=e,t):a},t.coilPadding=function(e){return arguments.length?(i=e,t):i},t.arcLabel=function(e){return arguments.length?(o=e,t):o},t.coilLabel=function(e){return arguments.length?(c=e,t):c},t}function wbCooltip(){"use strict";function t(t){t.each(function(t,u){var f,l,d,s=d3.select(this),h=this.ownerSVGElement,p=h.getBBox(),g=!1;s.on("mouseover",function(t){if(!g){g=!0,f=d3.select(h).append("g").style("pointer-events","none"),l=f.append("rect"),d=f.append("text");var u=(""+c(t)).split("\n");for(var s in u)d.append("tspan").style("text-anchor","middle").style("dominant-baseline","hanging").style("fill",r).attr("x",0).attr("dy",function(){return 0==s?0:i}).text(u[s]);var p=d.node().getBBox();l.attr("rx",o).attr("ry",o).attr("width",p.width+2*n).attr("height",p.height+2*n).attr("x",-p.width/2-n).attr("y",-n).attr("opacity",e).style("fill",a)}}),s.on("mouseout",function(){g&&(g=!1,f.remove())}),s.on("mousemove",function(){var t=d3.mouse(h),e=l.node().getBBox(),r=t[0],a=t[1]-e.height;r=(r=r-e.width/2<0?e.width/2:r)+e.width/2>p.width?p.width-e.width/2:r,a=(a=a-n<0?n:a)+e.height-n>p.height?p.height-e.height+n:a,f.attr("transform","translate("+r+","+a+")")})})}var e=.8,n=5,r="white",a="black",i=20,o=5,c=function(){return(new Date).toDateString()+"\n"+String(Math.floor(9e8*Math.random()))};return t.opacity=function(n){return arguments.length?(e=n,t):e},t.padding=function(e){return arguments.length?(n=e,t):n},t.color=function(e){return arguments.length?(r=e,t):r},t.fill=function(e){return arguments.length?(a=e,t):a},t.lineHeight=function(e){return arguments.length?(i=e,t):i},t.roundCorners=function(e){return arguments.length?(o=e,t):o},t.selector=function(e){return arguments.length?(c=e,t):c},t}function wbBarChart(){"use strict";function t(t){t.each(function(t,b){var y=d3.select(this);t.forEach(function(t){t[l]=+t[l]}),e=d3.scaleBand().rangeRound([0,i],.1).padding(c).domain(t.map(function(t){return t[f]})),r||(r=[0,d3.max(t,function(t){return t[l]})]),n=d3.scaleLinear().range([o,0]).domain(r),(g=function(t){if(y.selectAll(".rects").remove().exit().data(t).enter().append("rect").attr("class","rects").attr("x",function(t){if(u>=1)return e(t[f]);var n=e.bandwidth()-e.bandwidth()*u;return e(t[f])+n/2}).attr("width",function(t){return e.bandwidth()*u}).attr("y",function(t){return n(t[l])}).attr("height",function(t){return o-n(t[l])}).attr("fill",function(t,e){return"string"==typeof p?p:"function"==typeof p?p(e):"object"==typeof p&&String(p).startsWith("rgb")?p:p[e]}),a)y.selectAll(".values").remove().exit().data(t).enter().append("text").attr("class","values").attr("fill",d).attr("text-anchor","middle").attr("x",function(t){return e(t[f])+e.bandwidth()/2}).attr("y",function(t){return n(t[l])-s}).text(function(t){return h(t[l])})})(t)})}var e,n,r,a,i=500,o=500,c=.1,u=1,f="x",l="y",d="black",s=10,h=function(t){return t},p="blue",g=function(){};return t.update=function(e){return g(e),t},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(o=e,t):o},t.xSelector=function(e){return arguments.length?(f=e,t):f},t.ySelector=function(e){return arguments.length?(l=e,t):l},t.scaleX=function(n){return arguments.length?(e=n,t):e},t.scaleY=function(e){return arguments.length?(n=e,t):n},t.fill=function(e){return arguments.length?(p=e,t):p},t.yExtent=function(e){return arguments.length?(r=e,t):r},t.valuesShow=function(e){return arguments.length?(a=e,t):a},t.valuesFill=function(e){return arguments.length?(d=e,t):d},t.valueFormat=function(e){return arguments.length?(h=e,t):h},t.padding=function(e){return arguments.length?(c=e,t):c},t.widthFactor=function(e){return arguments.length?(u=e,t):u},t}function wbChordDiagram(){"use strict";function t(t){t.each(function(){var t=d3.select(this),o=r/2-100,c=d3.chord().padAngle(.04).sortSubgroups(d3.descending).sortChords(d3.descending),u=d3.arc().innerRadius(o).outerRadius(o+20),f=d3.ribbon().radius(o),l=c(e);t.attr("class","chord-circle").datum(l),t.append("circle").attr("fill","none").attr("pointer-events","all").attr("r",o+20);var d=t.selectAll("group").data(function(t){return t.groups}).enter().append("g").style("fill-opacity",".8").on("mouseover",function(t,e){s.classed("fade",function(t){return t.source.index!=e&&t.target.index!=e})}).on("mousemove",function(){}).on("mouseout",function(){});d.append("path").style("stroke",a).style("fill",a).attr("d",u),d.append("text").each(function(t){t.angle=(t.startAngle+t.endAngle)/2}).attr("dy",".35em").style("font-size","90%").attr("text-anchor",function(t){return t.angle>Math.PI?"end":null}).attr("transform",function(t){return"rotate("+(180*t.angle/Math.PI-90)+")translate("+(o+26)+")"+(t.angle>Math.PI?"rotate(180)":"")}).style("fill",a).text(function(t){return n[t.index].key});var s=t.selectAll("chord").data(function(t){return t}).enter().append("path").attr("class","chordpaths").style("fill-opacity",".8").style("stroke-width","25px").style("fill",function(t,e){return i(e)}).attr("d",f.radius(o))})}var e,n,r=500,a="black",i=d3.scaleOrdinal(d3.schemeCategory20c);return t.radius=function(e){return arguments.length?(r=e,t):r},t.matrix=function(n){return arguments.length?(e=n,t):e},t.keys=function(e){return arguments.length?(n=e,t):n},t.colors=function(e){return arguments.length?(i=e,t):i},t.fill=function(e){return arguments.length?(a=e,t):a},t}function wbDonutChart(){"use strict";function t(t){t.each(function(t,a){var i=d3.select(this),o=d3.pie().value(function(t){return t.percent}).sort(null).padAngle(.03),c=e/2,u=e/8,f=d3.arc().outerRadius(c).innerRadius(u),l=(i.selectAll("path").data(o(t)).enter().append("path").attr("class","paths").attr("d",f).attr("fill",function(t,e){return r(e)}),d3.scaleOrdinal().domain(t.map(function(t){return t.label})).range(t.map(function(t,e){return r(e)})));i.append("g").attr("class","legend").attr("transform",function(t,e){return"translate("+(c+10)+","+(10-c)+")"});var d=d3.legendColor().shape("path",d3.symbol().type(d3.symbolCircle).size(100)()).scale(l);i.select(".legend").call(d).style("fill",n).style("font-size","90%")})}var e=500,n="black",r=d3.scaleOrdinal(d3.schemeCategory10);return t.radius=function(n){return arguments.length?(e=n,t):e},t.fillLegend=function(e){return arguments.length?(n=e,t):n},t.colors=function(e){return arguments.length?(r=e,t):r},t}function wbGeoMap(){"use strict";function t(t){var l,d;t.each(function(t,s){var h=d3.select(this),p=function(t){var e=r/2,n=a/2,i=1;if(null===l||l!==t){var o=d.centroid(t),e=+o[0],n=+o[1],i=2.5;l=t}else l=null;h.transition().duration(1e3).attr("transform","translate("+r/2+","+a/2+")scale("+i+")translate("+-e+","+-n+")").style("stroke-width",1.75/i+"px")},g=d3.geoBounds(t);e&&(g=e);var b=g[0],y=g[1],m=-(y[0]+b[0])/2,v=[(y[0]+b[0])/2+m,(y[1]+b[1])/2],x=(n=d3.geoAlbers().parallels([b[1],y[1]]).translate([r/2,a/2]).rotate([m,0,0]).center(v))(b),w=n(y),M=1*Math.min(r/(w[0]-x[0]),a/(-w[1]+x[1]));n=d3.geoAlbers().parallels([b[1],y[1]]).rotate([m,0,0]).translate([r/2,a/2]).scale(.975*M*1e3).center(v),d=d3.geoPath().projection(n),(f=function(){h.selectAll(".wb-feature-paths").exit().remove().data(t.features).enter().append("path").attr("d",d).attr("class","wb-feature-paths").style("fill",i).style("stroke",o).style("stroke-width",c),u&&h.selectAll(".wb-feature-paths").on("click",p)})()})}var e,n,r=500,a=500,i="#666666",o="#555555",c=1,u=!0,f=function(){};return t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(a=e,t):a},t.projection=function(e){return arguments.length?(n=e,t):n},t.mapFill=function(e){return arguments.length?(i=e,t):i},t.mapStroke=function(e){return arguments.length?(o=e,t):o},t.boundsManual=function(n){return arguments.length?(e=n,t):e},t.mapStrokeWidth=function(e){return arguments.length?(c=e,t):c},t.allowZoom=function(e){return arguments.length?(u=e,t):u},t.update=function(){f()},t}function wbHeatMap(){"use strict";function t(t){t.each(function(t,i){var o=d3.select(this);t.forEach(function(t){t.day=+t.day,t.hour=+t.hour,t.value=+t.value});for(var c=Array(24),i=0;i<c.length;i++)c[i]=i+"";var u=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],f=Math.floor(e/24),l=Math.floor(n/u.length),d=(o.selectAll(".dayLabel").data(u).enter().append("text").text(function(t){return t}).attr("x",0).attr("y",function(t,e){return e*l}).style("text-anchor","end").style("fill",r).attr("dominant-baseline","middle").attr("transform","translate(-6,"+l/2+")"),o.selectAll(".timeLabel").data(c).enter().append("text").text(function(t){return t}).attr("x",function(t,e){return e*f}).attr("y",0).style("text-anchor","middle").style("fill",r).attr("transform","translate("+f/2+", -6)"),o.selectAll(".hour").data(t).enter().append("rect").attr("x",function(t){return t.hour*f}).attr("y",function(t){return(t.day-1)*l}).attr("class","hour bordered").attr("width",f).attr("height",l).attr("stroke",r).attr("stroke-width","1").style("fill",r)),s=d3.extent(t,function(t){return t.value}),h=d3.scaleQuantile().domain(s).range(a);d.style("fill",function(t){return h(t.value)});var p=o.selectAll(".legend").data([0].concat(h.quantiles()),function(t){return t}).enter().append("g");p.append("rect").attr("x",function(t,e){return 2*f*e}).attr("y",n+10).attr("width",2*f).attr("height",l/2).attr("stroke",r).attr("stroke-width","1").style("fill",function(t,e){return a[e]}),p.append("text").attr("dominant-baseline","hanging").text(function(t){return"≥ "+Math.round(t)}).attr("x",function(t,e){return 2*f*e}).attr("y",n+l).style("fill",r)})}var e=500,n=500,r="black",a=["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"];return t.width=function(n){return arguments.length?(e=n,t):e},t.height=function(e){return arguments.length?(n=e,t):n},t.colors=function(e){return arguments.length?(a=e,t):a},t.fill=function(e){return arguments.length?(r=e,t):r},t}function wbLinePlot(){"use strict";function t(t){t.each(function(t,s){var g=d3.select(this);g.append("path").attr("class","line"),(p=function(t){void 0===r&&(r=d3.extent(t,function(t){return t[f]})),void 0===a&&(a=d3.extent(t,function(t){return t[l]})),e=c.rangeRound([0,i]).domain(r),n=u.rangeRound([o,0]).domain(a);var s=d3.line().curve(h).x(function(t){return e(t[f])}).y(function(t){return n(t[l])});g.selectAll(".line").transition().duration(500).attr("d",s(t)).style("fill","none").style("stroke-linecap","round").style("stroke-linejoin","round").style("stroke-width","1").style("stroke",d)})(t)})}var e,n,r,a,i=500,o=500,c=d3.scaleLinear(),u=d3.scaleLinear(),f="x",l="y",d="red",s="white",h=d3.curveBasis,p=function(){};return t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(o=e,t):o},t.xAxisScale=function(e){return arguments.length?(c=e,t):c},t.yAxisScale=function(e){return arguments.length?(u=e,t):u},t.xDataPoints=function(e){return arguments.length?(f=e,t):f},t.yDataPoints=function(e){return arguments.length?(l=e,t):l},t.axisColor=function(e){return arguments.length?(s=e,t):s},t.stroke=function(e){return arguments.length?(d=e,t):d},t.curve=function(e){return arguments.length?(h=e,t):h},t.scaleX=function(){return e},t.scaleY=function(){return n},t.update=function(e){return p(e),t},t.xMinMax=function(e){return arguments.length?(r=e,t):r},t.yMinMax=function(e){return arguments.length?(a=e,t):a},t}function wbNetworkDiagram(){"use strict";function t(t){t.each(function(t,u){var f=d3.select(this);if(void 0===e){var l=[];t.nodes.forEach(function(t){l.push(t.group)});var d=Array.from(new Set(l.sort()));e=[];for(var u in d)e.push([d[u],c(d[u])])}var s=d3.scaleLinear().domain(d3.extent(t.nodes,function(t){return t.weight})).range([5,20]);t.nodes.forEach(function(t){t.r=s(t.weight)});var h=d3.extent(t.links,function(t){return t.value}),p=d3.scaleLinear().domain(h).range(o),g=d3.forceSimulation().force("link",d3.forceLink().id(function(t){return t.id})).force("charge",d3.forceManyBody()).force("center",d3.forceCenter(n/2,r/2)).force("x",d3.forceX(n).strength(.06)).force("y",d3.forceY(r).strength(.06)).force("collide",d3.forceCollide().radius(function(t){return t.r+i}).iterations(4)),b=f.append("g").selectAll("line").data(t.links).enter().append("line").attr("stroke-width",function(t){return p(t.value)}).style("stroke",a).style("stroke-opacity","0.6"),y=f.append("g").selectAll("circle").data(t.nodes).enter().append("circle").attr("class","circles").attr("r",function(t){return t.r}).attr("fill",function(t){return c(t.group)}).style("stroke",a).style("stroke-width","1").call(d3.drag().on("start",function(t){d3.event.active||g.alphaTarget(.5).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(t){t.fx=d3.event.x,t.fy=d3.event.y}).on("end",function(t){d3.event.active||g.alphaTarget(0),t.fx=null,t.fy=null}));g.nodes(t.nodes).on("tick",function(){b.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),y.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}),g.force("link").links(t.links);var m=f.append("g").attr("font-size","75%").attr("text-anchor","end").selectAll("g").data(e).enter().append("g").attr("transform",function(t,e){return"translate(0,"+(20*e+10)+")"});m.append("rect").attr("x",n-19).attr("width",19).attr("height",19).attr("fill",function(t){return t[1]}),m.append("text").attr("x",n-24).attr("y",9.5).attr("dy","0.32em").attr("fill",a).text(function(t){return t[0]})})}var e,n=500,r=500,a="black",i=.5,o=[1,20],c=d3.scaleOrdinal(["red","green","blue"]);return t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(r=e,t):r},t.fill=function(e){return arguments.length?(a=e,t):a},t.legend=function(n){return arguments.length?(e=n,t):e},t.colors=function(e){return arguments.length?(c=e,t):c},t.collide=function(e){return arguments.length?(i=e,t):i},t.thicknessRange=function(e){return arguments.length?(o=e,t):o},t}function wbNumericHistogram(){"use strict";function t(t){t.each(function(t,c){function u(c){p.domain(c);var u=d3.histogram().value(function(t){return t.value}).domain(p.domain()).thresholds(p.ticks(i))(t),f=d3.extent(u,function(t){return t.length});b.domain(f),M.selectAll(".bar").remove().exit().data(u).enter().append("rect").attr("class","bar").attr("fill",r).attr("width",function(t,n){var r=e/u.length;return r-=.1*r}).attr("height",function(t){return n-b(t.length)}).attr("y",function(t){return b(t.length)}).transition(g).attr("x",function(t){return p(t.x0)}),s.select(".axis-x").transition(g).call(y),s.select(".axis-y").transition(g).call(m),s.selectAll(".axis line").attr("stroke",a),s.selectAll(".axis path").attr("stroke",a),s.selectAll(".axis text").attr("fill",a),o()}function f(){x=null}function l(){u(d)}var d,s=d3.select(this),h=d3.extent(t,function(t){return t.value}),p=d3.scaleLinear().rangeRound([0,e]),g=s.transition().duration(750),b=d3.scaleLinear().rangeRound([n,0]),y=d3.axisBottom(p),m=d3.axisLeft(b),v=d3.brushX().extent([[0,0],[e,n]]).on("end",function(){var t=d3.event.selection;if(t)d=[p.invert(t[0])<h[0]?h[0]:p.invert(t[0]),p.invert(t[1])>h[1]?h[1]:p.invert(t[1])],s.select(".brush").call(v.move,null);else{if(!x)return x=setTimeout(f,w);d=h}l()}),x=null,w=350,M=(s.append("g").attr("class","brush").call(v),s.append("g"));s.append("g").attr("transform","translate(0,"+n+")").attr("class","axis axis-x"),s.append("g").attr("class","axis axis-y"),u(h)})}var e=500,n=500,r="red",a="white",i=50,o=function(){};return t.height=function(e){return arguments.length?(n=e,t):n},t.width=function(n){return arguments.length?(e=n,t):e},t.barColor=function(e){return arguments.length?(r=e,t):r},t.axisColor=function(e){return arguments.length?(a=e,t):a},t.numBins=function(e){return arguments.length?(i=e,t):i},t.updateCallback=function(e){return arguments.length?(o=e,t):o},t}function wbPackedBubbles(){"use strict";function t(t){t.each(function(t,o){var c=d3.select(this),u=d3.extent(t,function(t){return t.value}),f=d3.scaleLinear().domain(u).interpolate(d3.interpolate).range(a),l=d3.scaleLinear().domain(u).interpolate(d3.interpolate).range(i);if(e)var d=d3.scaleLog().domain(u).range(e);var s=d3.pack().size([n,r]).padding(.3),h=d3.hierarchy({children:t}).sum(function(t){return t.value}),p=c.selectAll("node").data(s(h).leaves()).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"});p.append("a").attr("xlink:href",function(t){return t.data.link}).append("circle").attr("class","circles").attr("id",function(t){return t.id}).transition().duration(500).attr("r",function(t){return t.r}).style("fill",function(t){return l(t.value)}).style("opacity",function(t){return e?d(t.value):"1.0"}),p.append("a").attr("xlink:href",function(t){return t.data.link}).append("text").attr("class","texts").style("font-size","10px").style("text-anchor","middle").style("dominant-baseline","middle").attr("x",0).attr("y",0).text(function(t){return t.data.id}).style("font-size",function(t){return(2*t.r-10)/this.getComputedTextLength()*10+"px"}).style("opacity",function(t){return e?d(t.value):"1.0"}).transition().duration(1e3).style("fill",function(t){return f(t.value)})})}var e,n=500,r=500,a=["green","white"],i=["green","red"];return t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(r=e,t):r},t.colorRange=function(e){return arguments.length?(a=e,t):a},t.fillRange=function(e){return arguments.length?(i=e,t):i},t.fadeOpacity=function(n){return arguments.length?(e=n,t):e},t}function wbSankeyDiagram(){"use strict";function t(t){t.each(function(t,i){var o=d3.select(this),c=d3.format(",.0f"),u=function(t){return c(t)+" TWh"},f=d3.sankey().nodeWidth(15).nodePadding(10).size([e,n]),l=f.link();f.nodes(t.nodes).links(t.links).layout(32);var d=o.selectAll(".sankey-link").data(t.links).enter().append("path").attr("class","sankey-link").style("fill","none").style("stroke",r).style("stroke-opacity",.2).attr("d",l).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});d.append("title").text(function(t){return t.source.name+" → "+t.target.name+"\n"+u(t.value)});var s=o.selectAll(".sankey-node").data(t.nodes).enter().append("g").attr("class","sankey-node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.drag().subject(function(t){return t}).on("start",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(n-t.dy,d3.event.y)))+")"),f.relayout(),d.attr("d",l)}));s.append("rect").style("cursor","move").style("shape-rendering","crispEdges").attr("height",function(t){return t.dy}).attr("width",f.nodeWidth()).style("fill",function(t){return t.color=a(t.name.replace(/ .*/,""))}).style("stroke",function(t){return r}).append("title").text(function(t){return t.name+"\n"+u(t.value)}),s.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("fill",r).attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<e/2}).attr("x",6+f.nodeWidth()).attr("text-anchor","start")})}var e=500,n=500,r="black",a=d3.scaleOrdinal(d3.schemeCategory20c);return t.width=function(n){return arguments.length?(e=n,t):e},t.height=function(e){return arguments.length?(n=e,t):n},t.fill=function(e){return arguments.length?(r=e,t):r},t.colors=function(e){return arguments.length?(a=e,t):a},t}function wbScatterPlot(){"use strict";function t(t){t.each(function(t,m){var v=d3.select(this),x=d3.extent(t,function(t){return t[u]}),w=d3.extent(t,function(t){return t[f]}),M=d3.extent(t,function(t){return t[l]});v.selectAll(".datapoint").data(t).enter().append("a").attr("xlink:href",s).append("rect").attr("class","datapoint").attr("width",8).attr("height",8).attr("rx",5),v.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+n+")"),v.append("g").attr("class","axis axis-y");var k,_,A,C,S,N;(y=function(s){s=s||!1,void 0!==h&&(C=d3.scaleLog().domain(d3.extent(t,function(t){return t[h]})).range(p)),k=r.range([0,e]).domain(x),_=a.range([n,0]).domain(w),A=i.domain(M).interpolate(d3.interpolate).range([o,c]),N=d3.axisLeft(_),b(N),S=d3.axisBottom(k),g(S),v.select(".axis-x").transition().duration(500).call(S),v.select(".axis-y").transition().duration(500).call(N),v.selectAll(".axis line").attr("stroke",d),v.selectAll(".axis path").attr("stroke",d),v.selectAll(".axis text").attr("fill",d);(s?v.selectAll(".datapoint"):v.selectAll(".datapoint").transition().duration(500)).attr("opacity",function(t){return void 0!==h?C(t[h]):1}).attr("x",function(t){return k(t[u])-4}).attr("y",function(t){return _(t[f])-4}).style("fill",function(t){return A(t[l])})})(!0)})}var e=500,n=500,r=d3.scaleLinear(),a=d3.scaleLinear(),i=d3.scaleLinear(),o="green",c="red",u="x",f="y",l="x",d="white",s=function(){},h=void 0,p=[0,1],g=function(t){return t},b=function(t){return t},y=function(){};return t.width=function(n){return arguments.length?(e=n,t):e},t.height=function(e){return arguments.length?(n=e,t):n},t.xAxisScale=function(e){return arguments.length?(r=e,t):r},t.yAxisScale=function(e){return arguments.length?(a=e,t):a},t.zAxisScale=function(e){return arguments.length?(i=e,t):i},t.xDataPoints=function(e){return arguments.length?(u=e,t):u},t.yDataPoints=function(e){return arguments.length?(f=e,t):f},t.zDataPoints=function(e){return arguments.length?(l=e,t):l},t.opacityDataPoints=function(e){return arguments.length?(h=e,t):h},t.opacityRange=function(e){return arguments.length?(p=e,t):p},t.axisColor=function(e){return arguments.length?(d=e,t):d},t.colorLow=function(e){return arguments.length?(o=e,t):o},t.colorHigh=function(e){return arguments.length?(c=e,t):c},t.href=function(e){return arguments.length?(s=e,t):s},t.formatXAxis=function(e){return arguments.length?(g=e,t):g},t.formatYAxis=function(e){return arguments.length?(b=e,t):b},t.update=function(){return y(),t},t}function wbStackedBarChart(){"use strict";function t(t){t.each(function(t,i){var o=d3.select(this);t.forEach(function(t,e){var n=Object.keys(t);for(t.total=0,e=1;e<n.length;++e)t.total+=t[n[e]]=+t[n[e]]}),e=d3.scaleBand().rangeRound([0,r]).paddingInner(.05).align(.1),n=d3.scaleLinear().rangeRound([a,0]);var f=d3.scaleOrdinal().range(c),l=t.columns.slice(1);t.sort(function(t,e){return e.total-t.total}),e.domain(t.map(function(t){return t.id})),n.domain([0,d3.max(t,function(t){return t.total})]).nice(),f.domain(l),o.append("g").selectAll("g").data(d3.stack().keys(l)(t)).enter().append("g").attr("fill",function(t){return f(t.key)}).selectAll("rect").data(function(t){return t}).enter().append("rect").attr("class","rects").attr("x",function(t){return e(t.data.id)}).attr("y",function(t){return n(t[1])}).attr("height",function(t){return n(t[0])-n(t[1])}).attr("width",e.bandwidth());var d=o.append("g").attr("font-size","75%").attr("text-anchor","end").selectAll("g").data(l.slice()).enter().append("g").attr("transform",function(t,e){return"translate(0,"+20*e+")"});d.append("rect").attr("x",r-19).attr("width",19).attr("height",19).attr("fill",f),d.append("text").attr("x",r-24).attr("y",9.5).attr("dy","0.32em").text(function(t){return t}).attr("fill",u)})}var e,n,r=500,a=500,i="x",o="y",c=["red","green","blue"],u="black";return t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(a=e,t):a},t.xSelector=function(e){return arguments.length?(i=e,t):i},t.ySelector=function(e){return arguments.length?(o=e,t):o},t.scaleX=function(n){return arguments.length?(e=n,t):e},t.scaleY=function(e){return arguments.length?(n=e,t):n},t.colors=function(e){return arguments.length?(c=e,t):c},t.legendFill=function(e){return arguments.length?(u=e,t):u},t}function wbStaticNumbers(){"use strict";function t(t){t.each(function(t,i){var o=d3.select(this),c=e/t.length,u=e/20;o.selectAll("number-value").data(t).enter().append("text").text(function(t){return t.name}).attr("x",function(t,e){return e*c+u/2}).attr("y",n).attr("text-anchor","left").attr("dominant-baseline","baseline").attr("fill",r).style("font-size","20").style("font-weight","bold").text(function(t){return t.value}).style("font-size",function(t){return(c-u)/this.getComputedTextLength()*20}).each(function(t){t.numberBox=this.getBBox()}),o.selectAll("number-label").data(t).enter().append("text").text(function(t){return t.name}).attr("x",function(t,e){return e*c+u/2}).attr("y",function(t){return n-t.numberBox.height+.2*t.numberBox.height}).attr("text-anchor","left").attr("fill",a).style("font-size","20").text(function(t){return t.label}).style("font-size",function(t){return(c-u)/this.getComputedTextLength()*20}).each(function(t){t.numberBox=this.getBBox()})})}var e=500,n=500,r="black",a="red";return t.width=function(n){return arguments.length?(e=n,t):e},t.height=function(e){return arguments.length?(n=e,t):n},t.fillNumber=function(e){return arguments.length?(r=e,t):r},t.fillLabel=function(e){return arguments.length?(a=e,t):a},t}function wbTimeseries(){"use strict";function t(t){t.each(function(t,s){var h=d3.select(this),p=d3.extent(t,function(t){return t.date});t.forEach(function(t){t.month=t.date.getMonth(),t.year=t.date.getFullYear(),t.weekday=t.date.getDay(),t.hour=t.date.getHours(),t.minute=t.date.getMinutes(),t.day=new Date(t.date).setHours(0,0,0,0),t["minute-of-day"]=new Date(t.date).setSeconds(0,0)});w=d3.extent(t,function(t){return t[o]});if("month"==o)var g=d3.timeMonths(new Date(2017,0,1),new Date(2017,11,31)),b=d3.timeFormat("%B");else if("year"==o){var b=function(t){return t},y=[];(g=d3.timeYears(new Date(w[0],0,1),new Date(w[1],12,1))).forEach(function(t){y.push(t.getFullYear())}),g=y}else if("weekday"==o)var g=[0,1,2,3,4,5,6],b=d3.timeFormat("%A");else if("day"==o)var g=d3.timeDays(p[0],p[1]),b=d3.timeFormat("%d.%m.%Y");else if("minute-of-day"==o)var g=d3.timeMinutes(p[0]-6e4,p[1]),b=d3.timeFormat("%H:%M");e=d3.scaleOrdinal().domain(g).range(d3.range(0,a,a/g.length));var m=a/g.length*.1,v=d3.histogram().value(function(t){return t[o]}).thresholds(g)(t),x=d3.max(v,function(t){return t.length});n=d3.scaleLinear().range([i,0]).domain([0,x+1]);var w=d3.extent(v,function(t){return t.length}),M=a/g.length-m;if(h.selectAll("rect").data(v).enter().append("rect").attr("class","rects").attr("x",0).attr("fill",function(t){return c}).attr("transform",function(t){return"translate("+e(t.x0)+","+n(t.length)+")"}).attr("width",function(t){return M}).attr("height",function(t){return i-n(t.length)}),l){v.forEach(function(t){var e=[];t.forEach(function(t){e=e.concat(t.value)}),t.mean=d(e)});var k=d3.scaleOrdinal().domain(g).range(d3.range(0,a,a/g.length)),_=a/g.length*.8,x=d3.max(v,function(t){return t.mean});r=d3.scaleLinear().range([i,0]).domain([0,x+1]),h.selectAll(".dim").data(v).enter().append("rect").attr("class","valuerects").attr("fill",function(t){return u}).attr("transform",function(t){var e=M/2-a/g.length*.1;return"translate("+(k(t.x0)+e)+","+r(t.mean)+")"}).attr("width",function(t){return a/g.length-_}).attr("height",function(t){return i-r(t.mean)})}var A=h.append("g").attr("transform","translate(0,"+i+")").selectAll("xaxis").data(v).enter();A.append("line").attr("x1",0).attr("x2",a).style("stroke",f),A.append("text").text(function(t,e){if("weekday"!=o)return b(g[e]);var n=d3.timeDays(new Date(2017,0,1),new Date(2017,0,8));return b(n[g[e]])}).style("text-anchor","middle").style("font-size","70%").style("fill",f).attr("x",function(t,e){return e*(a/g.length)+a/g.length/2-m/2}).attr("y",function(t){return this.getBBox().height+5}),A.append("line").attr("x1",function(t,e){return e*(a/g.length)+a/g.length/2-m/2}).attr("x2",function(t,e){return e*(a/g.length)+a/g.length/2-m/2}).attr("y1",0).attr("y2",5).style("stroke",f)})}var e,n,r,a=500,i=500,o="hour",c="red",u="orange",f="black",l=void 0,d=d3.mean;return t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(i=e,t):i},t.target=function(e){return arguments.length?(o=e,t):o},t.fill=function(e){return arguments.length?(c=e,t):c},t.fillValues=function(e){return arguments.length?(u=e,t):u},t.fillAxis=function(e){return arguments.length?(f=e,t):f},t.scaleX=function(n){return arguments.length?(e=n,t):e},t.scaleY=function(e){return arguments.length?(n=e,t):n},t.scaleY2=function(e){return arguments.length?(r=e,t):r},t.valueColumn=function(e){return arguments.length?(l=e,t):l},t.valueColumnAggregation=function(e){return arguments.length?(d=e,t):d},t}function wbTreeMap(){"use strict";function t(t){t.each(function(t,i){var o=d3.select(this),c=(d3.format(",d"),d3.treemap().tile(d3.treemapResquarify).size([e,n]).round(!0).paddingInner(1.5)),u=d3.hierarchy(t).eachBefore(function(t){t.data.id=(t.parent?t.parent.data.id+".":"")+t.data.name}).sum(function(t){return t.size}).sort(function(t,e){return e.height-t.height||e.value-t.value});c(u);var f=o.selectAll("g").data(u.leaves()).enter().append("g").attr("class","cells").attr("transform",function(t){return"translate("+t.x0+","+t.y0+")"});f.append("rect").attr("id",function(t){return t.data.id}).attr("width",function(t){return t.x1-t.x0}).attr("height",function(t){return t.y1-t.y0}).attr("fill",function(t){return r(t.parent.data.id)}),f.append("clipPath").attr("id",function(t){return"clip-"+t.data.id}).append("use").attr("xlink:href",function(t){return"#"+t.data.id}),f.append("text").style("font-size","75%").attr("clip-path",function(t){return"url(#clip-"+t.data.id+")"}).selectAll("tspan").data(function(t){return t.data.name.split(/(?=[A-Z][^A-Z])/g)}).enter().append("tspan").attr("x",4).attr("y",function(t,e){return 13+10*e}).attr("fill",a).text(function(t){return t})})}var e=500,n=500,r=d3.scaleOrdinal(d3.schemeCategory20c),a="black";return t.width=function(n){return arguments.length?(e=n,t):e},t.height=function(e){return arguments.length?(n=e,t):n},t.colors=function(e){return arguments.length?(r=e,t):r},t.fill=function(e){return arguments.length?(a=e,t):a},t}function wbWordCloud(){"use strict";function t(t){t.each(function(t,a){var i=d3.select(this);t.forEach(function(t){t.fontsize=1e4*+t.textrank});var o=d3.extent(t,function(t){return t.textrank}),c=d3.scaleLinear().domain(o).interpolate(d3.interpolate).range(r);d3.layout.cloud().size([e,n]).words(t).padding(1).rotate(0).font("Roboto Condensed").fontSize(function(t){return t.fontsize}).on("end",function(t){i.attr("transform","translate("+e/2+","+n/2+")");var r=i.selectAll("text").data(t,function(t){return t.text});r.enter().append("text").style("fill",function(t){return c(t.textrank)}).attr("text-anchor","middle").attr("font-size",function(t){return t.size+"px"}).attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text}),r.exit().remove()}).start()})}var e=500,n=500,r=["green","green"];return t.width=function(n){return arguments.length?(e=n,t):e},t.height=function(e){return arguments.length?(n=e,t):n},t.colorRange=function(e){return arguments.length?(r=e,t):r},t}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-selection"),require("d3-drag"),require("d3-shape"),require("d3-dispatch")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-drag","d3-shape","d3-dispatch"],e):e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3)}(this,function(t,e,n,r,a){"use strict";function i(){var t=[],n=void 0,r=void 0,i=[],o={},c={},u=!1,f=void 0,l=H,d=void 0,s=void 0,g=a.dispatch("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),b=void 0,y=function(r){b=r,u||r.selectAll("circle.handle").remove();var a=t.map(function(t){return t.type||(t.type=l),t.disable||(t.disable=i),new h(t)});n=n||new p({annotations:a,accessors:o,accessorsInverse:c,ids:f}),r.selectAll("g").data([n]).enter().append("g").attr("class","annotations");var y=r.select("g.annotations");V(y,n.annotations,"g","annotation");var m=y.selectAll("g.annotation");m.each(function(t){var n=e.select(this);n.attr("class","annotation"),V(n,[t],"g","annotation-connector"),V(n,[t],"g","annotation-subject"),V(n,[t],"g","annotation-note"),V(n.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:n,annotation:t,textWrap:d,notePadding:s,editMode:u,dispatcher:g,accessors:o}),t.type.draw(),t.type.drawText&&t.type.drawText()})};return y.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",n.json),window.copy(JSON.stringify(n.json.map(function(t){return delete t.type,t}))),y},y.update=function(){return t&&n&&(t=n.annotations.map(function(t){return t.type.draw(),t})),y},y.updateText=function(){return n&&(n.updateText(d),t=n.annotations),y},y.updatedAccessors=function(){return n.setPositionWithAccessors(),t=n.annotations,y},y.disable=function(e){return arguments.length?(i=e,n&&(n.updateDisable(i),t=n.annotations),y):i},y.textWrap=function(e){return arguments.length?(d=e,n&&(n.updateTextWrap(d),t=n.annotations),y):d},y.notePadding=function(e){return arguments.length?(s=e,n&&(n.updateNotePadding(s),t=n.annotations),y):s},y.type=function(e,r){return arguments.length?(l=e,n&&(n.annotations.map(function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=l,t.subject=r&&r.subject||t.subject,t.connector=r&&r.connector||t.connector,t.note=r&&r.note||t.note}),t=n.annotations),y):l},y.annotations=function(e){return arguments.length?(t=e,y):n&&n.annotations||t},y.context=function(t){return arguments.length?(r=t,y):r},y.accessors=function(t){return arguments.length?(o=t,y):o},y.accessorsInverse=function(t){return arguments.length?(c=t,y):c},y.ids=function(t){return arguments.length?(f=t,y):f},y.editMode=function(e){return arguments.length?(u=e,b&&b.selectAll("g.annotation").classed("editable",u),n&&(n.editMode(u),t=n.annotations),y):u},y.collection=function(t){return arguments.length?(n=t,y):n},y.on=function(){var t=g.on.apply(g,arguments);return t===g?y:t},y}var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function t(e,n,r){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(void 0===a){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(r)},l=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},d=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},s=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},h=function(){function t(e){var n=e.x,r=void 0===n?0:n,a=e.y,i=void 0===a?0:a,c=e.nx,u=e.ny,f=e.dy,l=void 0===f?0:f,d=e.dx,s=void 0===d?0:d,h=e.data,p=e.type,g=e.subject,b=e.connector,y=e.note,m=e.disable,v=e.id,x=e.className;o(this,t),this._dx=void 0!==c?c-r:s,this._dy=void 0!==u?u-i:l,this._x=r,this._y=i,this.id=v,this._className=x||"",this.type=p||"",this.data=h,this.note=y||{},this.connector=b||{},this.subject=g||{},this.disable=m||[]}return c(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var e=t.x,n=t.y;this._dx=e,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var e=t.x,n=t.y;this._x=e,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),p=function(){function t(e){var n=e.annotations,r=e.accessors,a=e.accessorsInverse;o(this,t),this.accessors=r,this.accessorsInverse=a,this.annotations=n}return c(t,[{key:"clearTypes",value:function(t){this.annotations.forEach(function(e){e.type=void 0,e.subject=t&&t.subject||e.subject,e.connector=t&&t.connector||e.connector,e.note=t&&t.note||e.note})}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach(function(e){e.type.setPositionWithAccessors(t.accessors)})}},{key:"editMode",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.editMode=t,e.type.updateEditMode())})}},{key:"updateDisable",value:function(t){this.annotations.forEach(function(e){e.disable=t,e.type&&t.forEach(function(t){e.type[t]&&(e.type[t].remove&&e.type[t].remove(),e.type[t]=void 0)})})}},{key:"updateTextWrap",value:function(t){this.annotations.forEach(function(e){e.type&&e.type.updateTextWrap&&e.type.updateTextWrap(t)})}},{key:"updateText",value:function(){this.annotations.forEach(function(t){t.type&&t.type.drawText&&t.type.drawText()})}},{key:"updateNotePadding",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.notePadding=t)})}},{key:"json",get:function(){var t=this;return this.annotations.map(function(e){var n=e.json;return t.accessorsInverse&&e.data&&(n.data={},Object.keys(t.accessorsInverse).forEach(function(r){n.data[r]=t.accessorsInverse[r]({x:e.x,y:e.y})})),n})}},{key:"noteNodes",get:function(){return this.annotations.map(function(t){return u({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})})}}]),t}(),g=function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy;return{move:{x:n,y:void 0===r?0:r}}},b=function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy,a=void 0===r?0:r,i=t.r1,o=t.r2,c=t.padding,u={move:{x:n,y:a}};return void 0!==i&&(u.r1={x:n+i/Math.sqrt(2),y:a+i/Math.sqrt(2)}),void 0!==o&&(u.r2={x:n+o/Math.sqrt(2),y:a+o/Math.sqrt(2)}),void 0!==c&&(u.padding={x:n+i+c,y:a}),u},y=function(t){var r=t.group,a=t.handles,i=t.r,o=void 0===i?10:i,c=r.selectAll("circle.handle").data(a);c.enter().append("circle").attr("class","handle").call(n.drag().container(e.select("g.annotations").node()).on("start",function(t){return t.start&&t.start(t)}).on("drag",function(t){return t.drag&&t.drag(t)}).on("end",function(t){return t.end&&t.end(t)})),r.selectAll("circle.handle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return t.r||o}).attr("class",function(t){return"handle "+(t.className||"")}),c.exit().remove()},m=function(t,e){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=e<0?"top":"bottom"),t},v=function(t,e){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=e<0?"right":"left"),t},x=["topBottom","top","bottom"],w=["leftRight","left","right"],M=function(t){var e=t.padding,n=void 0===e?0:e,r=t.bbox,a=void 0===r?{x:0,y:0,width:0,height:0}:r,i=t.align,o=t.orientation,c=t.offset,u=void 0===c?{x:0,y:0}:c,f=-a.x,l=0;return-1!==x.indexOf(o)?(i=v(i,u.x),u.y<0&&"topBottom"===o||"top"===o?l-=a.height+n:l+=n,"middle"===i?f-=a.width/2:"right"===i&&(f-=a.width)):-1!==w.indexOf(o)&&(i=m(i,u.y),u.x<0&&"leftRight"===o||"left"===o?f-=a.width+n:f+=n,"middle"===i?l-=a.height/2:"top"===i&&(l-=a.height)),{x:f,y:l}},k=function(t){var e=t.data,n=t.curve,a=void 0===n?r.curveLinear:n,i=t.canvasContext,o=t.className,c=t.classID,u=r.line().curve(a),f={type:"path",className:o,classID:c,data:e};return i?(u.context(i),f.pathMethods=u):f.attrs={d:u(e)},f},_=function(t){var e=t.data,n=t.canvasContext,a={type:"path",className:t.className,classID:t.classID,data:e},i=r.arc().innerRadius(e.innerRadius||0).outerRadius(e.outerRadius||e.radius||2).startAngle(e.startAngle||0).endAngle(e.endAngle||2*Math.PI);return n?(i.context(n),a.pathMethods=lineGen):a.attrs={d:i()},a},A=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,a=t.y,i=void 0===a?0:a,o=t.bbox,c=t.offset;"top"===(e=m(e,c.y))?i-=o.height:"middle"===e&&(i-=o.height/2);var u=[[r,i],[r,i+o.height]];return{components:[k({data:u,className:"note-line"})]}},C=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,a=t.y,i=void 0===a?0:a,o=t.offset,c=t.bbox;"right"===(e=v(e,o.x))?r-=c.width:"middle"===e&&(r-=c.width/2);var u=[[r,i],[r+c.width,i]];return{components:[k({data:u,className:"note-line"})]}},S=function(t){var e=t.type,n=t.subjectType,r=e.annotation,a=r.position,i=r.x-a.x,o=i+r.dx,c=r.y-a.y,u=c+r.dy,f=r.subject;if("circle"===n&&(f.outerRadius||f.radius)){var l=Math.sqrt((i-o)*(i-o)+(c-u)*(c-u)),d=Math.asin(-u/l),s=f.outerRadius||f.radius+(f.radiusPadding||0);i=Math.abs(Math.cos(d)*s)*(o<0?-1:1),c=Math.abs(Math.sin(d)*s)*(u<0?-1:1)}if("rect"===n){var h=f.width,p=f.height;(h>0&&r.dx>0||h<0&&r.dx<0)&&(i=Math.abs(h)>Math.abs(r.dx)?h/2:h),(p>0&&r.dy>0||p<0&&r.dy<0)&&(c=Math.abs(p)>Math.abs(r.dy)?p/2:p),i===h/2&&c===p/2&&(i=o,c=u)}return[[i,c],[o,u]]},N=function(t){var e=S(t);return{components:[k({data:e,className:"connector"})]}},T=function(t){var e=t.type,n=t.subjectType,r=e.annotation,a=r.position,i=r.x-a.x,o=i+r.dx,c=r.y-a.y,u=c+r.dy,f=r.subject;if("rect"===n){var l=f.width,d=f.height;(l>0&&r.dx>0||l<0&&r.dx<0)&&(i=Math.abs(l)>Math.abs(r.dx)?l/2:l),(d>0&&r.dy>0||d<0&&r.dy<0)&&(c=Math.abs(d)>Math.abs(r.dy)?d/2:d),i===l/2&&c===d/2&&(i=o,c=u)}var s=[[i,c],[o,u]],h=u-c,p=o-i,g=o,b=u,y=u<c&&o>i||o<i&&u>c?-1:1;if(Math.abs(p)<Math.abs(h)?(g=o,b=c+p*y):(b=u,g=i+h*y),"circle"===n&&(f.outerRadius||f.radius)){var m=(f.outerRadius||f.radius)+(f.radiusPadding||0),v=m/Math.sqrt(2);if(Math.abs(p)>v&&Math.abs(h)>v)s=[[i=v*(o<0?-1:1),c=v*(u<0?-1:1)],[g,b],[o,u]];else if(Math.abs(p)>Math.abs(h)){var x=Math.asin(-u/m);s=[[i=Math.abs(Math.cos(x)*m)*(o<0?-1:1),u],[o,u]]}else{var w=Math.acos(o/m);s=[[o,c=Math.abs(Math.sin(w)*m)*(u<0?-1:1)],[o,u]]}}else s=[[i,c],[g,b],[o,u]];return{components:[k({data:s,className:"connector"})]}},j=function(t){var n=t.type,a=t.connectorData,i=t.subjectType;a||(a={}),a.points&&"number"!=typeof a.points||(a.points=D(n.annotation.offset,a.points)),a.curve||(a.curve=r.curveCatmullRom);var o=[];n.editMode&&function(){var t=a.points.map(function(t,e){return u({},g({cx:t[0],cy:t[1]}),{index:e})}),r=function(t){a.points[t][0]+=e.event.dx,a.points[t][1]+=e.event.dy,n.redrawConnector()};o=n.mapHandles(t.map(function(t){return u({},t.move,{drag:r.bind(n,t.index)})}))}();var c=S({type:n,subjectType:i});return c=[c[0]].concat(s(a.points),[c[1]]),{components:[k({data:c,curve:a.curve,className:"connector"})],handles:o}},D=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n={x:t.x/(e+1),y:t.y/(e+1)},r=[],a=1;a<=e;a++)r.push([n.x*a+a%2*20,n.y*a-a%2*20]);return r},O=function(t){var e=t.annotation,n=t.start,r=t.end,a=e.position;n=n?[-r[0]+n[0],-r[1]+n[1]]:[e.dx,e.dy],r||(r=[e.x-a.x,e.y-a.y]);var i=r[0],o=r[1],c=n[0],u=n[1],f=16/180*Math.PI,l=Math.atan(u/c);c<0&&(l+=Math.PI);var d=[[i,o],[10*Math.cos(l+f)+i,10*Math.sin(l+f)+o],[10*Math.cos(l-f)+i,10*Math.sin(l-f)+o],[i,o]];return{components:[k({data:d,className:"connector-end connector-arrow",classID:"connector-end"})]}},B=function(t){var e=t.line,n=_({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3}});return n.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[n]}},P=function(t){var n=t.subjectData,r=t.type;n.radius||n.outerRadius||(n.radius=20);var a=[],i=_({data:n,className:"subject"});if(r.editMode){var o=b({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:n.radiusPadding}),c=function(t){var a=n[t]+e.event.dx*Math.sqrt(2);n[t]=a,r.redrawSubject(),r.redrawConnector()},f=[u({},o.r1,{drag:c.bind(r,void 0!==n.outerRadius?"outerRadius":"radius")})];n.innerRadius&&f.push(u({},o.r2,{drag:c.bind(r,"innerRadius")})),a=r.mapHandles(f)}return{components:[i],handles:a}},E=function(t){var n=t.subjectData,r=t.type;n.width||(n.width=100),n.height||(n.height=100);var a=[],i=n.width,o=n.height,c=k({data:[[0,0],[i,0],[i,o],[0,o],[0,0]],className:"subject"});if(r.editMode){var u=function(){n.height=e.event.y,r.redrawSubject(),r.redrawConnector()},f=[{x:i,y:o/2,drag:function(){n.width=e.event.x,r.redrawSubject(),r.redrawConnector()}.bind(r)},{x:i/2,y:o,drag:u.bind(r)}];a=r.mapHandles(f)}return{components:[c],handles:a}},F=function(t){var e=t.subjectData,n=t.type.annotation.position,r=(void 0!==e.x1?e.x1:n.x)-n.x,a=(void 0!==e.x2?e.x2:n.x)-n.x,i=(void 0!==e.y1?e.y1:n.y)-n.y,o=(void 0!==e.y2?e.y2:n.y)-n.y;return{components:[k({data:[[r,i],[a,o]],className:"subject"})]}},L=function(t){var n=t.subjectData,r=t.type,a=r.typeSettings&&r.typeSettings.subject;n.radius||(a&&a.radius?n.radius=a.radius:n.radius=14),n.x||(a&&a.x?n.x=a.x:n.x="left"),n.y||(a&&a.y?n.y=a.y:n.y="top");var i=[],o=n.radius,c=.7*o,u="left"===n.x?-o:o,f="top"===n.y?-o:o,l="translate("+u+", "+f+")",d=_({className:"subject",data:{radius:o}});d.attrs.transform=l;var s=_({className:"subject-ring",data:{outerRadius:o,innerRadius:c}});s.attrs.transform=l;var h=k({className:"subject-pointer",data:[[0,0],[u,0],[0,f],[0,0]]});if(r.editMode){var p=[{x:2*u,y:2*f,drag:function(){n.x=e.event.x<0?"left":"right",n.y=e.event.y<0?"top":"bottom",r.redrawSubject()}.bind(r)}];i=r.mapHandles(p)}var g=void 0;return n.text&&(g={type:"text",className:"badge-text",attrs:{text:n.text,"text-anchor":"middle",dy:".25em",x:u,y:f}}),{components:[h,d,s,g],handles:i}},Y=function(){function t(e){var n=e.a,r=e.annotation,a=e.editMode,i=e.dispatcher,c=e.notePadding,u=e.accessors;if(o(this,t),this.a=n,this.note=-1===r.disable.indexOf("note")&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=-1===r.disable.indexOf("connector")&&n.select("g.annotation-connector"),this.subject=-1===r.disable.indexOf("subject")&&n.select("g.annotation-subject"),this.dispatcher=i,i){var f=Z.bind(null,i,r);f({component:this.note,name:"note"}),f({component:this.connector,name:"connector"}),f({component:this.subject,name:"subject"})}this.annotation=r,this.editMode=r.editMode||a,this.notePadding=void 0!==c?c:3,this.offsetCornerX=0,this.offsetCornerY=0,u&&r.data&&this.init(u)}return c(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,e){var n=this;Array.isArray(e)||(e=[e]),e.filter(function(t){return t}).forEach(function(e){var r=e.type,a=e.className,i=e.attrs,o=e.handles,c=e.classID;"handle"===r?y({group:t,r:i&&i.r,handles:o}):function(){V(t,[n.annotation],r,a,c);for(var e=t.select(r+"."+(c||a)),o=Object.keys(i),u=[],f=e.node().attributes,l=f.length-1;l>=0;l--){var d=f[l].name;-1===o.indexOf(d)&&"class"!==d&&u.push(d)}o.forEach(function(t){"text"===t?e.text(i[t]):e.attr(t,i[t])}),u.forEach(function(t){return e.attr(t,null)})}()})}},{key:"getNoteBBox",value:function(){return Q(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=Q(this.note,".annotation-note-content"),e=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(e[1])+this.annotation.dx,t.offsetCornerY=parseFloat(e[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.annotation.subject,n=t.type,r={type:this,subjectData:e},a={};"circle"===n?a=P(r):"rect"===n?a=E(r):"threshold"===n?a=F(r):"badge"===n&&(a=L(r));var i=a,o=i.components,c=void 0===o?[]:o,u=i.handles,f=void 0===u?[]:u;return this.editMode&&(f=f.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),c.push({type:"handle",handles:f})),c}},{key:"drawConnector",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.annotation.connector,n=e.type||t.type,r={type:this,connectorData:e};r.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var a={},i=a="curve"===n?j(r):"elbow"===n?T(r):N(r),o=i.components,c=void 0===o?[]:o,u=i.handles,f=void 0===u?[]:u,l=c[0],d=e.end||t.end,s={};if("arrow"===d){var h=l.data[1],p=l.data[0];Math.sqrt(Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2))<5&&l.data[2]&&(h=l.data[2]),s=O({annotation:this.annotation,start:h,end:p})}else"dot"===d&&(s=B({line:l}));return s.components&&(c=c.concat(s.components)),this.editMode&&0!==f.length&&c.push({type:"handle",handles:f}),c}},{key:"drawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.annotation.note,n=e.align||t.align||"dynamic",r={bbox:t.bbox,align:n,offset:this.annotation.offset},a=e.lineType||t.lineType,i={};"vertical"===a?i=A(r):"horizontal"===a&&(i=C(r));var o=i,c=o.components,u=void 0===c?[]:c,f=o.handles,l=void 0===f?[]:f;return this.editMode&&(l=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),u.push({type:"handle",handles:l})),u}},{key:"drawNoteContent",value:function(t){var e=this.annotation.note,n=void 0!==e.padding?e.padding:this.notePadding,r=e.orientation||t.orientation||"topBottom",a=e.lineType||t.lineType,i=e.align||t.align||"dynamic";"vertical"===a?r="leftRight":"horizontal"===a&&(r="topBottom");var o={padding:n,bbox:t.bbox,offset:this.annotation.offset,orientation:r,align:i},c=M(o),u=c.x,f=c.y;return this.offsetCornerX=u+this.annotation.dx,this.offsetCornerY=f+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+u+", "+f+")"),[]}},{key:"drawOnScreen",value:function(t,e){return this.drawOnSVG(t,e)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){e.event.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=e.event.dx,t.y+=e.event.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=e.event.dx,t.y+=e.event.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var e=this;return t.map(function(t){return u({},t,{start:e.dragstarted.bind(e),end:e.dragended.bind(e)})})}}]),t}(),R=function(t,e,n){return function(r){function a(t){o(this,a);var n=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return n.typeSettings=e,e.disable&&e.disable.forEach(function(t){n[t]=void 0,"note"===t&&(n.noteContent=void 0)}),n}return l(a,t),c(a,[{key:"className",value:function(){return""+(e.className||f(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"className",this)&&f(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=u({},e.subject,this.typeSettings.subject),f(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawSubject",this).call(this,u({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=u({},e.connector,this.typeSettings.connector),f(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawConnector",this).call(this,u({},t,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=u({},e.note,this.typeSettings.note),f(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawNote",this).call(this,u({},t,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return f(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawNoteContent",this).call(this,u({},t,e.note,this.typeSettings.note))}}],[{key:"init",value:function(t,e){return f(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,t,e),n&&(t=n(t,e)),t}}]),a}()},z=function(t){function e(t){o(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.textWrap=t.textWrap||120,n.drawText(),n}return l(e,Y),c(e,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){V(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");V(t,[this.annotation],"rect","annotation-note-bg"),V(t,[this.annotation],"text","annotation-note-label"),V(t,[this.annotation],"text","annotation-note-title");var e={height:0},n=this.a.select("text.annotation-note-label"),r=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap;if(this.annotation.note.title){var a=this.a.select("text.annotation-note-title");a.text(this.annotation.note.title),a.call(J,r),e=a.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(J,r),n.attr("y",1.1*e.height||0);var i=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",i.width).attr("height",i.height)}}}]),e}(),I=R(z,{className:"label",note:{align:"middle"}}),H=R(z,{className:"callout",note:{lineType:"horizontal"}}),W=R(H,{className:"callout elbow",connector:{type:"elbow"}}),U=R(H,{className:"callout curve",connector:{type:"curve"}}),q=R(Y,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),X=R(W,{className:"callout circle",subject:{type:"circle"}}),G=R(W,{className:"callout rect",subject:{type:"rect"}}),$=R(function(t){function e(){return o(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,H),c(e,[{key:"mapY",value:function(t){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,t);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&t.y&&(n.y=t.y(n.data))}},{key:"mapX",value:function(t){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,t);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&t.x&&(n.x=t.x(n.data))}}]),e}(),{className:"callout xythreshold",subject:{type:"threshold"}}),V=function(t,e,n,r,a){var i=t.selectAll(n+"."+(a||r)).data(e);return i.enter().append(n).merge(i).attr("class",r),i.exit().remove(),t},Z=function(t,e,n){var r=n.component,a=n.name;r&&r.on("mouseover.annotations",function(){t.call(a+"over",r,e)}).on("mouseout.annotations",function(){return t.call(a+"out",r,e)}).on("click.annotations",function(){return t.call(a+"click",r,e)})},J=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.2;t.each(function(){for(var t=e.select(this),a=t.text().split(/[ \t\r\n]+/).reverse().filter(function(t){return""!==t}),i=void 0,o=[],c=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");i=a.pop();)o.push(i),c.text(o.join(" ")),c.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),c.text(o.join(" ")),o=[i],c=t.append("tspan").attr("x",0).attr("dy",r+"em").text(i))})},Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(e).nodes().reduce(function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),t.width=Math.max(t.width,n.width);var r=e&&e.attributes&&e.attributes.y;return t.height=Math.max(t.height,(r&&parseFloat(r.value)||0)+n.height),t},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}},K={annotation:i,annotationTypeBase:Y,annotationLabel:I,annotationCallout:H,annotationCalloutCurve:U,annotationCalloutElbow:W,annotationCalloutCircle:X,annotationCalloutRect:G,annotationXYThreshold:$,annotationBadge:q,annotationCustomType:R};t.annotation=i,t.annotationTypeBase=Y,t.annotationLabel=I,t.annotationCallout=H,t.annotationCalloutCurve=U,t.annotationCalloutElbow=W,t.annotationCalloutCircle=X,t.annotationCalloutRect=G,t.annotationXYThreshold=$,t.annotationBadge=q,t.annotationCustomType=R,t.default=K,Object.defineProperty(t,"__esModule",{value:!0})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;(e=(e=(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).d3||(e.d3={})).layout||(e.layout={})).cloud=t()}}(function(){return function t(e,n,r){function a(o,c){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!c&&u)return u(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return a(n||t)},l,l.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,n){function r(t){return t.text}function a(){return"serif"}function i(){return"normal"}function o(t){return Math.sqrt(t.value)}function c(){return 30*(~~(6*Math.random())-3)}function u(){return 1}function f(t,e,n,r){if(!e.sprite){var a=t.context,i=t.ratio;a.clearRect(0,0,(v<<5)/i,x/i);var o=0,c=0,u=0,f=n.length;for(--r;++r<f;){e=n[r],a.save(),a.font=e.style+" "+e.weight+" "+~~((e.size+1)/i)+"px "+e.font;var l=a.measureText(e.text+"m").width*i,d=e.size<<1;if(e.rotate){var s=Math.sin(e.rotate*m),h=Math.cos(e.rotate*m),p=l*h,g=l*s,b=d*h,y=d*s;l=Math.max(Math.abs(p+y),Math.abs(p-y))+31>>5<<5,d=~~Math.max(Math.abs(g+b),Math.abs(g-b))}else l=l+31>>5<<5;if(d>u&&(u=d),o+l>=v<<5&&(o=0,c+=u,u=0),c+d>=x)break;a.translate((o+(l>>1))/i,(c+(d>>1))/i),e.rotate&&a.rotate(e.rotate*m),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=l,e.height=d,e.xoff=o,e.yoff=c,e.x1=l>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=l}for(var w=a.getImageData(0,0,(v<<5)/i,x/i).data,M=[];--r>=0;)if((e=n[r]).hasText){for(var k=(l=e.width)>>5,d=e.y1-e.y0,_=0;_<d*k;_++)M[_]=0;if(null==(o=e.xoff))return;c=e.yoff;for(var A=0,C=-1,S=0;S<d;S++){for(_=0;_<l;_++){var N=k*S+(_>>5),T=w[(c+S)*(v<<5)+(o+_)<<2]?1<<31-_%32:0;M[N]|=T,A|=T}A?C=S:(e.y0++,d--,S--,c++)}e.y1=e.y0+C,e.sprite=M.slice(0,(e.y1-e.y0)*k)}}}function l(t,e,n){n>>=5;for(var r,a=t.sprite,i=t.width>>5,o=t.x-(i<<4),c=127&o,u=32-c,f=t.y1-t.y0,l=(t.y+t.y0)*n+(o>>5),d=0;d<f;d++){r=0;for(var s=0;s<=i;s++)if((r<<u|(s<i?(r=a[d*i+s])>>>c:0))&e[l+s])return!0;l+=n}return!1}function d(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function s(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function h(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function p(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function g(){return document.createElement("canvas")}function b(t){return"function"==typeof t?t:function(){return t}}var y=t("d3-dispatch").dispatch,m=Math.PI/180,v=64,x=2048;e.exports=function(){function t(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(v<<5)/e,t.height=x/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function e(t,e,r){n[0],n[1];for(var a,i,o,c=e.x,u=e.y,f=Math.sqrt(n[0]*n[0]+n[1]*n[1]),d=N(n),h=B()<.5?1:-1,p=-h;(a=d(p+=h))&&(i=~~a[0],o=~~a[1],!(Math.min(Math.abs(i),Math.abs(o))>=f));)if(e.x=c+i,e.y=u+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>n[0]||e.y+e.y1>n[1])&&(!r||!l(e,t,n[0]))&&(!r||s(e,r))){for(var g,b=e.sprite,y=e.width>>5,m=n[0]>>5,v=e.x-(y<<4),x=127&v,w=32-x,M=e.y1-e.y0,k=(e.y+e.y0)*m+(v>>5),_=0;_<M;_++){g=0;for(var A=0;A<=y;A++)t[k+A]|=g<<w|(A<y?(g=b[_*y+A])>>>x:0);k+=m}return delete e.sprite,!0}return!1}var n=[256,256],m=r,M=a,k=o,_=i,A=i,C=c,S=u,N=h,T=[],j=1/0,D=y("word","end"),O=null,B=Math.random,P={},E=g;return P.canvas=function(t){return arguments.length?(E=b(t),P):E},P.start=function(){function r(){for(var t=Date.now();Date.now()-t<j&&++u<c&&O;){var r=s[u];r.x=n[0]*(B()+.5)>>1,r.y=n[1]*(B()+.5)>>1,f(a,r,s,u),r.hasText&&e(i,r,o)&&(l.push(r),D.call("word",P,r),o?d(o,r):o=[{x:r.x+r.x0,y:r.y+r.y0},{x:r.x+r.x1,y:r.y+r.y1}],r.x-=n[0]>>1,r.y-=n[1]>>1)}u>=c&&(P.stop(),D.call("end",P,l,o))}var a=t(E()),i=p((n[0]>>5)*n[1]),o=null,c=T.length,u=-1,l=[],s=T.map(function(t,e){return t.text=m.call(this,t,e),t.font=M.call(this,t,e),t.style=_.call(this,t,e),t.weight=A.call(this,t,e),t.rotate=C.call(this,t,e),t.size=~~k.call(this,t,e),t.padding=S.call(this,t,e),t}).sort(function(t,e){return e.size-t.size});return O&&clearInterval(O),O=setInterval(r,0),r(),P},P.stop=function(){return O&&(clearInterval(O),O=null),P},P.timeInterval=function(t){return arguments.length?(j=null==t?1/0:t,P):j},P.words=function(t){return arguments.length?(T=t,P):T},P.size=function(t){return arguments.length?(n=[+t[0],+t[1]],P):n},P.font=function(t){return arguments.length?(M=b(t),P):M},P.fontStyle=function(t){return arguments.length?(_=b(t),P):_},P.fontWeight=function(t){return arguments.length?(A=b(t),P):A},P.rotate=function(t){return arguments.length?(C=b(t),P):C},P.text=function(t){return arguments.length?(m=b(t),P):m},P.spiral=function(t){return arguments.length?(N=w[t]||t,P):N},P.fontSize=function(t){return arguments.length?(k=b(t),P):k},P.padding=function(t){return arguments.length?(S=b(t),P):S},P.random=function(t){return arguments.length?(B=t,P):B},P.on=function(){var t=D.on.apply(D,arguments);return t===D?P:t},P};var w={archimedean:h,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var a=t<0?-1:1;switch(Math.sqrt(1+4*a*t)-a&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}}},{"d3-dispatch":2}],2:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(){for(var t,e=0,r=arguments.length,a={};e<r;++e){if(!(t=arguments[e]+"")||t in a)throw new Error("illegal type: "+t);a[t]=[]}return new n(a)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function a(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function i(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var o={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,o=this._,c=r(t+"",o),u=-1,f=c.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<f;)if(n=(t=c[u]).type)o[n]=i(o[n],t.name,e);else if(null==e)for(n in o)o[n]=i(o[n],t.name,null);return this}for(;++u<f;)if((n=(t=c[u]).type)&&(n=a(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},{}]},{},[1])(1)}),function t(e,n,r){function a(o,c){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!c&&u)return u(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return a(n||t)},l,l.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){return 1===t.length&&(t=r(t)),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}function r(t){return function(n,r){return e(t(n),r)}}function a(t){return null===t?NaN:+t}function i(t,e){var n,r,i=t.length,o=0,c=0,u=-1,f=0;if(null==e)for(;++u<i;)isNaN(n=a(t[u]))||(c+=(r=n-o)*(n-(o+=r/++f)));else for(;++u<i;)isNaN(n=a(e(t[u],u,t)))||(c+=(r=n-o)*(n-(o+=r/++f)));if(f>1)return c/(f-1)}function o(t,e){var n=i(t,e);return n?Math.sqrt(n):n}function c(t,e){var n,r,a,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=t[i])&&(n>r&&(n=r),a<r&&(a=r))}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&(n>r&&(n=r),a<r&&(a=r))}return[n,a]}function u(t){return function(){return t}}function f(t){return t}function l(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}function d(t,e,n){var r=s(t,e,n);return l(Math.ceil(t/r)*r,Math.floor(e/r)*r+r/2,r)}function s(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=_?a*=10:i>=A?a*=5:i>=C&&(a*=2),e<t?-a:a}function h(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function p(t,e,n){if(null==n&&(n=a),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),c=+n(t[o],o,t);return c+(+n(t[o+1],o+1,t)-c)*(i-o)}}function g(t,e){var n,r,a=-1,i=t.length;if(null==e){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&n>r&&(n=r)}else{for(;++a<i;)if(null!=(r=e(t[a],a,t))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e(t[a],a,t))&&n>r&&(n=r)}return n}function b(t){if(!(a=t.length))return[];for(var e=-1,n=g(t,y),r=new Array(n);++e<n;)for(var a,i=-1,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function y(t){return t.length}var m=n(e),v=m.right,x=m.left,w=Array.prototype,M=w.slice,k=w.map,_=Math.sqrt(50),A=Math.sqrt(10),C=Math.sqrt(2);t.bisect=v,t.bisectRight=v,t.bisectLeft=x,t.ascending=e,t.bisector=n,t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=o,t.extent=c,t.histogram=function(){function t(t){var a,i,o=t.length,c=new Array(o);for(a=0;a<o;++a)c[a]=e(t[a],a,t);var u=n(c),f=u[0],l=u[1],s=r(c,f,l);Array.isArray(s)||(s=d(f,l,s));for(var h=s.length;s[0]<=f;)s.shift(),--h;for(;s[h-1]>=l;)s.pop(),--h;var p,g=new Array(h+1);for(a=0;a<=h;++a)(p=g[a]=[]).x0=a>0?s[a-1]:f,p.x1=a<h?s[a]:l;for(a=0;a<o;++a)f<=(i=c[a])&&i<=l&&g[v(s,i,0,h)].push(t[a]);return g}var e=f,n=c,r=h;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:u(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:u([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:u(Array.isArray(e)?M.call(e):e),t):r},t},t.thresholdFreedmanDiaconis=function(t,n,r){return t=k.call(t,a).sort(e),Math.ceil((r-n)/(2*(p(t,.75)-p(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*o(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=h,t.max=function(t,e){var n,r,a=-1,i=t.length;if(null==e){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=e(t[a],a,t))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e(t[a],a,t))&&r>n&&(n=r)}return n},t.mean=function(t,e){var n,r=0,i=t.length,o=-1,c=i;if(null==e)for(;++o<i;)isNaN(n=a(t[o]))?--c:r+=n;else for(;++o<i;)isNaN(n=a(e(t[o],o,t)))?--c:r+=n;if(c)return r/c},t.median=function(t,n){var r,i=[],o=t.length,c=-1;if(null==n)for(;++c<o;)isNaN(r=a(t[c]))||i.push(r);else for(;++c<o;)isNaN(r=a(n(t[c],c,t)))||i.push(r);return p(i.sort(e),.5)},t.merge=function(t){for(var e,n,r,a=t.length,i=-1,o=0;++i<a;)o+=t[i].length;for(n=new Array(o);--a>=0;)for(e=(r=t[a]).length;--e>=0;)n[--o]=r[e];return n},t.min=g,t.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],a=new Array(n<0?0:n);e<n;)a[e]=[r,r=t[++e]];return a},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=p,t.range=l,t.scan=function(t,n){if(r=t.length){var r,a,i=0,o=0,c=t[o];for(n||(n=e);++i<r;)(n(a=t[i],c)<0||0!==n(c,c))&&(c=a,o=i);return 0===n(c,c)?o:void 0}},t.shuffle=function(t,e,n){for(var r,a,i=(null==n?t.length:n)-(e=null==e?0:+e);i;)a=Math.random()*i--|0,r=t[i+e],t[i+e]=t[a+e],t[a+e]=r;return t},t.sum=function(t,e){var n,r=0,a=t.length,i=-1;if(null==e)for(;++i<a;)(n=+t[i])&&(r+=n);else for(;++i<a;)(n=+e(t[i],i,t))&&(r+=n);return r},t.ticks=d,t.tickStep=s,t.transpose=b,t.variance=i,t.zip=function(){return b(arguments)},Object.defineProperty(t,"__esModule",{value:!0})})},{}],2:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){}function n(t,n){var r=new e;if(t instanceof e)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var a,i=-1,o=t.length;if(null==n)for(;++i<o;)r.set(i,t[i]);else for(;++i<o;)r.set(n(a=t[i],i,t),a)}else if(t)for(var c in t)r.set(c,t[c]);return r}function r(){return{}}function a(t,e,n){t[e]=n}function i(){return n()}function o(t,e,n){t.set(e,n)}function c(){}function u(t,e){var n=new c;if(t instanceof c)t.each(function(t){n.add(t)});else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}e.prototype=n.prototype={constructor:e,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var f=n.prototype;c.prototype=u.prototype={constructor:c,has:f.has,add:function(t){return t+="",this["$"+t]=t,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};t.nest=function(){function t(e,r,a,i){if(r>=l.length)return null!=u?u(e):null!=c?e.sort(c):e;for(var o,f,d,s=-1,h=e.length,p=l[r++],g=n(),b=a();++s<h;)(d=g.get(o=p(f=e[s])+""))?d.push(f):g.set(o,[f]);return g.each(function(e,n){i(b,n,t(e,r,a,i))}),b}function e(t,n){if(++n>l.length)return t;var r,a=d[n-1];return null!=u&&n>=l.length?r=t.entries():(r=[],t.each(function(t,a){r.push({key:a,values:e(t,n)})})),null!=a?r.sort(function(t,e){return a(t.key,e.key)}):r}var c,u,f,l=[],d=[];return f={object:function(e){return t(e,0,r,a)},map:function(e){return t(e,0,i,o)},entries:function(n){return e(t(n,0,i,o),0)},key:function(t){return l.push(t),f},sortKeys:function(t){return d[l.length-1]=t,f},sortValues:function(t){return c=t,f},rollup:function(t){return u=t,f}}},t.set=u,t.map=n,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Object.defineProperty(t,"__esModule",{value:!0})})},{}],3:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function n(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=D.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=O.exec(t))?a(parseInt(e[1],16)):(e=B.exec(t))?new u(e[1],e[2],e[3],1):(e=P.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=E.exec(t))?i(e[1],e[2],e[3],e[4]):(e=F.exec(t))?i(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=L.exec(t))?f(e[1],e[2]/100,e[3]/100,1):(e=Y.exec(t))?f(e[1],e[2]/100,e[3]/100,e[4]):R.hasOwnProperty(t)?a(R[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function a(t){return new u(t>>16&255,t>>8&255,255&t,1)}function i(t,e,n,r){return r<=0&&(t=e=n=NaN),new u(t,e,n,r)}function o(t){return t instanceof n||(t=r(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function c(t,e,n,r){return 1===arguments.length?o(t):new u(t,e,n,null==r?1:r)}function u(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function f(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new s(t,e,n,r)}function l(t){if(t instanceof s)return new s(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=r(t)),!t)return new s;if(t instanceof s)return t;var e=(t=t.rgb()).r/255,a=t.g/255,i=t.b/255,o=Math.min(e,a,i),c=Math.max(e,a,i),u=NaN,f=c-o,l=(c+o)/2;return f?(u=e===c?(a-i)/f+6*(a<i):a===c?(i-e)/f+2:(e-a)/f+4,f/=l<.5?c+o:2-c-o,u*=60):f=l>0&&l<1?0:u,new s(u,f,l,t.opacity)}function d(t,e,n,r){return 1===arguments.length?l(t):new s(t,e,n,null==r?1:r)}function s(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function h(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function p(t){if(t instanceof b)return new b(t.l,t.a,t.b,t.opacity);if(t instanceof k){var e=t.h*z;return new b(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof u||(t=o(t));var n=x(t.r),r=x(t.g),a=x(t.b),i=y((.4124564*n+.3575761*r+.1804375*a)/H),c=y((.2126729*n+.7151522*r+.072175*a)/W);return new b(116*c-16,500*(i-c),200*(c-y((.0193339*n+.119192*r+.9503041*a)/U)),t.opacity)}function g(t,e,n,r){return 1===arguments.length?p(t):new b(t,e,n,null==r?1:r)}function b(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function y(t){return t>$?Math.pow(t,1/3):t/G+q}function m(t){return t>X?t*t*t:G*(t-q)}function v(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w(t){if(t instanceof k)return new k(t.h,t.c,t.l,t.opacity);t instanceof b||(t=p(t));var e=Math.atan2(t.b,t.a)*I;return new k(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function M(t,e,n,r){return 1===arguments.length?w(t):new k(t,e,n,null==r?1:r)}function k(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function _(t){if(t instanceof C)return new C(t.h,t.s,t.l,t.opacity);t instanceof u||(t=o(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(nt*r+tt*e-et*n)/(nt+tt-et),i=r-a,c=(K*(n-a)-J*i)/Q,f=Math.sqrt(c*c+i*i)/(K*a*(1-a)),l=f?Math.atan2(c,i)*I-120:NaN;return new C(l<0?l+360:l,f,a,t.opacity)}function A(t,e,n,r){return 1===arguments.length?_(t):new C(t,e,n,null==r?1:r)}function C(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var S=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},N="\\s*([+-]?\\d+)\\s*",T="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",j="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D=/^#([0-9a-f]{3})$/,O=/^#([0-9a-f]{6})$/,B=new RegExp("^rgb\\("+[N,N,N]+"\\)$"),P=new RegExp("^rgb\\("+[j,j,j]+"\\)$"),E=new RegExp("^rgba\\("+[N,N,N,T]+"\\)$"),F=new RegExp("^rgba\\("+[j,j,j,T]+"\\)$"),L=new RegExp("^hsl\\("+[T,j,j]+"\\)$"),Y=new RegExp("^hsla\\("+[T,j,j,T]+"\\)$"),R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S(n,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),S(u,c,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),S(s,d,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new s(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new s(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new u(h(t>=240?t-240:t+120,a,r),h(t,a,r),h(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var z=Math.PI/180,I=180/Math.PI,H=.95047,W=1,U=1.08883,q=4/29,X=6/29,G=3*X*X,$=X*X*X;S(b,g,e(n,{brighter:function(t){return new b(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new b(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=W*m(t),e=H*m(e),n=U*m(n),new u(v(3.2404542*e-1.5371385*t-.4985314*n),v(-.969266*e+1.8760108*t+.041556*n),v(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),S(k,M,e(n,{brighter:function(t){return new k(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new k(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return p(this).rgb()}}));var V=-.14861,Z=1.78277,J=-.29227,Q=-.90649,K=1.97294,tt=K*Q,et=K*Z,nt=Z*J-Q*V;S(C,A,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new C(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new C(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*z,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new u(255*(e+n*(V*r+Z*a)),255*(e+n*(J*r+Q*a)),255*(e+n*(K*r)),this.opacity)}})),t.color=r,t.rgb=c,t.hsl=d,t.lab=g,t.hcl=M,t.cubehelix=A,Object.defineProperty(t,"__esModule",{value:!0})})},{}],4:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){for(var t,e=0,r=arguments.length,a={};e<r;++e){if(!(t=arguments[e]+"")||t in a)throw new Error("illegal type: "+t);a[t]=[]}return new n(a)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function a(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function i(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var o={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,o=this._,c=r(t+"",o),u=-1,f=c.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<f;)if(n=(t=c[u]).type)o[n]=i(o[n],t.name,e);else if(null==e)for(n in o)o[n]=i(o[n],t.name,null);return this}for(;++u<f;)if((n=(t=c[u]).type)&&(n=a(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function n(t){return(t=e(Math.abs(t)))?t[1]:NaN}function r(t,e){return function(n,r){for(var a=n.length,i=[],o=0,c=t[0],u=0;a>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),i.push(n.substring(a-=c,a+c)),!((u+=c+1)>r));)c=t[o=(o+1)%t.length];return i.reverse().join(e)}}function a(t,n){var r=e(t,n);if(!r)return t+"";var a=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}function i(t){return new o(t)}function o(t){if(!(e=s.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",a=e[3]||"-",i=e[4]||"",o=!!e[5],c=e[6]&&+e[6],u=!!e[7],f=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):d[l]||(l=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=a,this.symbol=i,this.zero=o,this.width=c,this.comma=u,this.precision=f,this.type=l}function c(t){return t}function u(t){function e(t){function e(t){var e,i,o,f=m,d=v;if("c"===y)d=x(t)+d,t="";else{var M=((t=+t)<0||1/t<0)&&(t*=-1,!0);if(t=x(t,b),M)for(e=-1,i=t.length,M=!1;++e<i;)if(48<(o=t.charCodeAt(e))&&o<58||"x"===y&&96<o&&o<103||"X"===y&&64<o&&o<71){M=!0;break}if(f=(M?"("===c?c:"-":"-"===c||"("===c?"":c)+f,d=d+("s"===y?p[8+l/3]:"")+(M&&"("===c?")":""),w)for(e=-1,i=t.length;++e<i;)if(48>(o=t.charCodeAt(e))||o>57){d=(46===o?u+t.slice(e+1):t.slice(e))+d,t=t.slice(0,e);break}}g&&!s&&(t=a(t,1/0));var k=f.length+t.length+d.length,_=k<h?new Array(h-k+1).join(n):"";switch(g&&s&&(t=a(_+t,_.length?h-d.length:1/0),_=""),r){case"<":return f+t+d+_;case"=":return f+_+t+d;case"^":return _.slice(0,k=_.length>>1)+f+t+d+_.slice(k)}return _+f+t+d}var n=(t=i(t)).fill,r=t.align,c=t.sign,f=t.symbol,s=t.zero,h=t.width,g=t.comma,b=t.precision,y=t.type,m="$"===f?o[0]:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===f?o[1]:/[%p]/.test(y)?"%":"",x=d[y],w=!y||/[defgprs%]/.test(y);return b=null==b?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),e.toString=function(){return t+""},e}var a=t.grouping&&t.thousands?r(t.grouping,t.thousands):c,o=t.currency,u=t.decimal;return{format:e,formatPrefix:function(t,r){var a=e((t=i(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),c=Math.pow(10,-o),u=p[8+o/3];return function(t){return a(c*t)+u}}}}function f(e){return h=u(e),t.format=h.format,t.formatPrefix=h.formatPrefix,h}var l,d={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,a=1,i=-1;a<r;++a)switch(t[a]){case".":i=n=a;break;case"0":0===i&&(i=a),n=a;break;case"e":break t;default:i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return a(100*t,e)},r:a,s:function(t,n){var r=e(t,n);if(!r)return t+"";var a=r[0],i=r[1],o=i-(l=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,c=a.length;return o===c?a:o>c?a+new Array(o-c+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+e(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},s=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var h,p=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];f({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),t.formatDefaultLocale=f,t.formatLocale=u,t.formatSpecifier=i,t.precisionFixed=function(t){return Math.max(0,-n(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1},Object.defineProperty(t,"__esModule",{value:!0})})},{}],6:[function(t,e,n){!function(r,a){"object"==typeof n&&void 0!==e?a(n,t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],a):a(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function r(t,e){return function(n){return t+n*e}}function a(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function i(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):_(isNaN(t)?e:t)}function o(t){return 1==(t=+t)?c:function(e,n){return n-e?a(e,n,t):_(isNaN(e)?n:e)}}function c(t,e){var n=e-t;return n?r(t,n):_(isNaN(t)?e:t)}function u(t){return function(n){var r,a,i=n.length,o=new Array(i),c=new Array(i),u=new Array(i);for(r=0;r<i;++r)a=e.rgb(n[r]),o[r]=a.r||0,c[r]=a.g||0,u[r]=a.b||0;return o=t(o),c=t(c),u=t(u),a.opacity=1,function(t){return a.r=o(t),a.g=c(t),a.b=u(t),a+""}}}function f(t){return function(){return t}}function l(t){return function(e){return t(e)+""}}function d(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}function i(t,r,a,i,o,c){if(t!==a||r!==i){var u=o.push("translate(",null,e,null,n);c.push({i:u-4,x:j(t,a)},{i:u-2,x:j(r,i)})}else(a||i)&&o.push("translate("+a+e+i+n)}function o(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:j(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}function c(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:j(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}function u(t,e,n,r,i,o){if(t!==n||e!==r){var c=i.push(a(i)+"scale(",null,",",null,")");o.push({i:c-4,x:j(t,n)},{i:c-2,x:j(e,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}return function(e,n){var r=[],a=[];return e=t(e),n=t(n),i(e.translateX,e.translateY,n.translateX,n.translateY,r,a),o(e.rotate,n.rotate,r,a),c(e.skewX,n.skewX,r,a),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,a),e=n=null,function(t){for(var e,n=-1,i=a.length;++n<i;)r[(e=a[n]).i]=e.x(t);return r.join("")}}}function s(t){return((t=Math.exp(t))+1/t)/2}function h(t){return((t=Math.exp(t))-1/t)/2}function p(t){return((t=Math.exp(2*t))-1)/(t+1)}function g(t){return function(n,r){var a=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),i=c(n.s,r.s),o=c(n.l,r.l),u=c(n.opacity,r.opacity);return function(t){return n.h=a(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function b(t){return function(n,r){var a=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),i=c(n.c,r.c),o=c(n.l,r.l),u=c(n.opacity,r.opacity);return function(t){return n.h=a(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function y(t){return function n(r){function a(n,a){var i=t((n=e.cubehelix(n)).h,(a=e.cubehelix(a)).h),o=c(n.s,a.s),u=c(n.l,a.l),f=c(n.opacity,a.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,r)),n.opacity=f(t),n+""}}return r=+r,a.gamma=n,a}(1)}var m,v,x,w,M=function(t){var e=t.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[a],o=t[a+1],c=a>0?t[a-1]:2*i-o,u=a<e-1?t[a+2]:2*o-i;return n((r-a/e)*e,c,i,o,u)}},k=function(t){var e=t.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*e),i=t[(a+e-1)%e],o=t[a%e],c=t[(a+1)%e],u=t[(a+2)%e];return n((r-a/e)*e,i,o,c,u)}},_=function(t){return function(){return t}},A=function t(n){function r(t,n){var r=a((t=e.rgb(t)).r,(n=e.rgb(n)).r),i=a(t.g,n.g),o=a(t.b,n.b),c=a(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=c(e),t+""}}var a=o(n);return r.gamma=t,r}(1),C=u(M),S=u(k),N=function(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(r),o=new Array(r);for(n=0;n<a;++n)i[n]=E(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}},T=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},j=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},D=function(t,e){var n,r={},a={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=E(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}},O=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B=new RegExp(O.source,"g"),P=function(t,e){var n,r,a,i=O.lastIndex=B.lastIndex=0,o=-1,c=[],u=[];for(t+="",e+="";(n=O.exec(t))&&(r=B.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),c[o]?c[o]+=a:c[++o]=a),(n=n[0])===(r=r[0])?c[o]?c[o]+=r:c[++o]=r:(c[++o]=null,u.push({i:o,x:j(n,r)})),i=B.lastIndex;return i<e.length&&(a=e.slice(i),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?l(u[0].x):f(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)c[(n=u[r]).i]=n.x(t);return c.join("")})},E=function(t,n){var r,a=typeof n;return null==n||"boolean"===a?_(n):("number"===a?j:"string"===a?(r=e.color(n))?(n=r,A):P:n instanceof e.color?A:n instanceof Date?T:Array.isArray(n)?N:isNaN(n)?D:j)(t,n)},F=180/Math.PI,L={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Y=function(t,e,n,r,a,i){var o,c,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*F,skewX:Math.atan(u)*F,scaleX:o,scaleY:c}},R=d(function(t){return"none"===t?L:(m||(m=document.createElement("DIV"),v=document.documentElement,x=document.defaultView),m.style.transform=t,t=x.getComputedStyle(v.appendChild(m),null).getPropertyValue("transform"),v.removeChild(m),t=t.slice(7,-1).split(","),Y(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),z=d(function(t){return null==t?L:(w||(w=document.createElementNS("http://www.w3.org/2000/svg","g")),w.setAttribute("transform",t),(t=w.transform.baseVal.consolidate())?(t=t.matrix,Y(t.a,t.b,t.c,t.d,t.e,t.f)):L)},", ",")",")"),I=Math.SQRT2,H=g(i),W=g(c),U=b(i),q=b(c),X=y(i),G=y(c);t.interpolate=E,t.interpolateArray=N,t.interpolateBasis=M,t.interpolateBasisClosed=k,t.interpolateDate=T,t.interpolateNumber=j,t.interpolateObject=D,t.interpolateRound=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},t.interpolateString=P,t.interpolateTransformCss=R,t.interpolateTransformSvg=z,t.interpolateZoom=function(t,e){var n,r,a=t[0],i=t[1],o=t[2],c=e[0],u=e[1],f=e[2],l=c-a,d=u-i,g=l*l+d*d;if(g<1e-12)r=Math.log(f/o)/I,n=function(t){return[a+t*l,i+t*d,o*Math.exp(I*t*r)]};else{var b=Math.sqrt(g),y=(f*f-o*o+4*g)/(2*o*2*b),m=(f*f-o*o-4*g)/(2*f*2*b),v=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(m*m+1)-m);r=(x-v)/I,n=function(t){var e=t*r,n=s(v),c=o/(2*b)*(n*p(I*e+v)-h(v));return[a+c*l,i+c*d,o*n/s(I*e+v)]}}return n.duration=1e3*r,n},t.interpolateRgb=A,t.interpolateRgbBasis=C,t.interpolateRgbBasisClosed=S,t.interpolateHsl=H,t.interpolateHslLong=W,t.interpolateLab=function(t,n){var r=c((t=e.lab(t)).l,(n=e.lab(n)).l),a=c(t.a,n.a),i=c(t.b,n.b),o=c(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=a(e),t.b=i(e),t.opacity=o(e),t+""}},t.interpolateHcl=U,t.interpolateHclLong=q,t.interpolateCubehelix=X,t.interpolateCubehelixLong=G,t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":3}],7:[function(t,e,n){!function(r,a){"object"==typeof n&&void 0!==e?a(n,t("d3-array"),t("d3-collection"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format"),t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],a):a(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,a,i,o,c){"use strict";function u(t){function e(e){var n=e+"",o=r.get(n);if(!o){if(i!==X)return i;r.set(n,o=a.push(e))}return t[(o-1)%t.length]}var r=n.map(),a=[],i=X;return t=null==t?[]:q.call(t),e.domain=function(t){if(!arguments.length)return a.slice();a=[],r=n.map();for(var i,o,c=-1,u=t.length;++c<u;)r.has(o=(i=t[c])+"")||r.set(o,a.push(i));return e},e.range=function(n){return arguments.length?(t=q.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return u().domain(a).range(t).unknown(i)},e}function f(){function t(){var t=i().length,a=c[1]<c[0],u=c[a-0],f=c[1-a];n=(f-u)/Math.max(1,t-d+2*s),l&&(n=Math.floor(n)),u+=(f-u-n*(t-d))*h,r=n*(1-d),l&&(u=Math.round(u),r=Math.round(r));var p=e.range(t).map(function(t){return u+n*t});return o(a?p.reverse():p)}var n,r,a=u().unknown(void 0),i=a.domain,o=a.range,c=[0,1],l=!1,d=0,s=0,h=.5;return delete a.unknown,a.domain=function(e){return arguments.length?(i(e),t()):i()},a.range=function(e){return arguments.length?(c=[+e[0],+e[1]],t()):c.slice()},a.rangeRound=function(e){return c=[+e[0],+e[1]],l=!0,t()},a.bandwidth=function(){return r},a.step=function(){return n},a.round=function(e){return arguments.length?(l=!!e,t()):l},a.padding=function(e){return arguments.length?(d=s=Math.max(0,Math.min(1,e)),t()):d},a.paddingInner=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),t()):d},a.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),t()):s},a.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},a.copy=function(){return f().domain(i()).range(c).round(l).paddingInner(d).paddingOuter(s).align(h)},t()}function l(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l(e())},t}function d(t){return function(){return t}}function s(t){return+t}function h(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:d(e)}function p(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function g(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function b(t,e,n,r){var a=t[0],i=t[1],o=e[0],c=e[1];return i<a?(a=n(i,a),o=r(c,o)):(a=n(a,i),o=r(o,c)),function(t){return o(a(t))}}function y(t,n,r,a){var i=Math.min(t.length,n.length)-1,o=new Array(i),c=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<i;)o[u]=r(t[u],t[u+1]),c[u]=a(n[u],n[u+1]);return function(n){var r=e.bisect(t,n,1,i)-1;return c[r](o[r](n))}}function m(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function v(t,e){function n(){return i=Math.min(u.length,f.length)>2?y:b,o=c=null,a}function a(e){return(o||(o=i(u,f,d?p(t):t,l)))(+e)}var i,o,c,u=G,f=G,l=r.interpolate,d=!1;return a.invert=function(t){return(c||(c=i(f,u,h,d?g(e):e)))(+t)},a.domain=function(t){return arguments.length?(u=U.call(t,s),n()):u.slice()},a.range=function(t){return arguments.length?(f=q.call(t),n()):f.slice()},a.rangeRound=function(t){return f=q.call(t),l=r.interpolateRound,n()},a.clamp=function(t){return arguments.length?(d=!!t,n()):d},a.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function x(t,n,r){var i,o=t[0],c=t[t.length-1],u=e.tickStep(o,c,null==n?10:n);switch((r=a.formatSpecifier(null==r?",f":r)).type){case"s":var f=Math.max(Math.abs(o),Math.abs(c));return null!=r.precision||isNaN(i=a.precisionPrefix(u,f))||(r.precision=i),a.formatPrefix(r,f);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=a.precisionRound(u,Math.max(Math.abs(o),Math.abs(c))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=a.precisionFixed(u))||(r.precision=i-2*("%"===r.type))}return a.format(r)}function w(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,e){return x(n(),t,e)},t.nice=function(r){var a=n(),i=a.length-1,o=null==r?10:r,c=a[0],u=a[i],f=e.tickStep(c,u,o);return f&&(f=e.tickStep(Math.floor(c/f)*f,Math.ceil(u/f)*f,o),a[0]=Math.floor(c/f)*f,a[i]=Math.ceil(u/f)*f,n(a)),t},t}function M(){var t=v(h,r.interpolateNumber);return t.copy=function(){return m(t,M())},w(t)}function k(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=U.call(n,s),t):e.slice()},t.copy=function(){return k().domain(e)},w(t)}function _(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}function A(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:d(e)}function C(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function S(t){return isFinite(t)?+("1e"+t):t<0?0:t}function N(t){return 10===t?S:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function T(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function j(t){return function(e){return-t(-e)}}function D(){function t(){return o=T(i),c=N(i),r()[0]<0&&(o=j(o),c=j(c)),n}var n=v(A,C).domain([1,10]),r=n.domain,i=10,o=T(10),c=N(10);return n.base=function(e){return arguments.length?(i=+e,t()):i},n.domain=function(e){return arguments.length?(r(e),t()):r()},n.ticks=function(t){var n,a=r(),u=a[0],f=a[a.length-1];(n=f<u)&&(h=u,u=f,f=h);var l,d,s,h=o(u),p=o(f),g=null==t?10:+t,b=[];if(!(i%1)&&p-h<g){if(h=Math.round(h)-1,p=Math.round(p)+1,u>0){for(;h<p;++h)for(d=1,l=c(h);d<i;++d)if(!((s=l*d)<u)){if(s>f)break;b.push(s)}}else for(;h<p;++h)for(d=i-1,l=c(h);d>=1;--d)if(!((s=l*d)<u)){if(s>f)break;b.push(s)}}else b=e.ticks(h,p,Math.min(p-h,g)).map(c);return n?b.reverse():b},n.tickFormat=function(t,e){if(null==e&&(e=10===i?".0e":","),"function"!=typeof e&&(e=a.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,i*t/n.ticks().length);return function(t){var n=t/c(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=r?e(t):""}},n.nice=function(){return r(_(r(),{floor:function(t){return c(Math.floor(o(t)))},ceil:function(t){return c(Math.ceil(o(t)))}}))},n.copy=function(){return m(n,D().base(i))},n}function O(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function B(){var t=1,e=v(function(e,n){return(n=O(n,t)-(e=O(e,t)))?function(r){return(O(r,t)-e)/n}:d(n)},function(e,n){return n=O(n,t)-(e=O(e,t)),function(r){return O(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return m(e,B().exponent(t))},w(e)}function P(){function t(){var t=0,o=Math.max(1,a.length);for(i=new Array(o-1);++t<o;)i[t-1]=e.quantile(r,t/o);return n}function n(t){if(!isNaN(t=+t))return a[e.bisect(i,t)]}var r=[],a=[],i=[];return n.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:r[0],e<i.length?i[e]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var a,i=0,o=n.length;i<o;++i)null==(a=n[i])||isNaN(a=+a)||r.push(a);return r.sort(e.ascending),t()},n.range=function(e){return arguments.length?(a=q.call(e),t()):a.slice()},n.quantiles=function(){return i.slice()},n.copy=function(){return P().domain(r).range(a)},n}function E(){function t(t){if(t<=t)return c[e.bisect(o,t,0,i)]}function n(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*a-(e-i)*r)/(i+1);return t}var r=0,a=1,i=1,o=[.5],c=[0,1];return t.domain=function(t){return arguments.length?(r=+t[0],a=+t[1],n()):[r,a]},t.range=function(t){return arguments.length?(i=(c=q.call(t)).length-1,n()):c.slice()},t.invertExtent=function(t){var e=c.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,o[0]]:e>=i?[o[i-1],a]:[o[e-1],o[e]]},t.copy=function(){return E().domain([r,a]).range(c)},w(t)}function F(){function t(t){if(t<=t)return r[e.bisect(n,t,0,a)]}var n=[.5],r=[0,1],a=1;return t.domain=function(e){return arguments.length?(n=q.call(e),a=Math.min(n.length,r.length-1),t):n.slice()},t.range=function(e){return arguments.length?(r=q.call(e),a=Math.min(n.length,r.length-1),t):r.slice()},t.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return F().domain(n).range(r)},t}function L(t){return new Date(t)}function Y(t){return t instanceof Date?+t:+new Date(+t)}function R(t,n,a,i,o,c,u,f,l){function d(e){return(u(e)<e?y:c(e)<e?x:o(e)<e?w:i(e)<e?M:n(e)<e?a(e)<e?k:A:t(e)<e?C:S)(e)}function s(n,r,a,i){if(null==n&&(n=10),"number"==typeof n){var o=Math.abs(a-r)/n,c=e.bisector(function(t){return t[2]}).right(N,o);c===N.length?(i=e.tickStep(r/tt,a/tt,n),n=t):c?(i=(c=N[o/N[c-1][2]<N[c][2]/o?c-1:c])[1],n=c[0]):(i=e.tickStep(r,a,n),n=f)}return null==i?n:n.every(i)}var p=v(h,r.interpolateNumber),g=p.invert,b=p.domain,y=l(".%L"),x=l(":%S"),w=l("%I:%M"),M=l("%I %p"),k=l("%a %d"),A=l("%b %d"),C=l("%B"),S=l("%Y"),N=[[u,1,$],[u,5,5*$],[u,15,15*$],[u,30,30*$],[c,1,V],[c,5,5*V],[c,15,15*V],[c,30,30*V],[o,1,Z],[o,3,3*Z],[o,6,6*Z],[o,12,12*Z],[i,1,J],[i,2,2*J],[a,1,Q],[n,1,K],[n,3,3*K],[t,1,tt]];return p.invert=function(t){return new Date(g(t))},p.domain=function(t){return arguments.length?b(U.call(t,Y)):b().map(L)},p.ticks=function(t,e){var n,r=b(),a=r[0],i=r[r.length-1],o=i<a;return o&&(n=a,a=i,i=n),n=s(t,a,i,e),n=n?n.range(a,i+1):[],o?n.reverse():n},p.tickFormat=function(t,e){return null==e?d:l(e)},p.nice=function(t,e){var n=b();return(t=s(t,n[0],n[n.length-1],e))?b(_(n,t)):p},p.copy=function(){return m(p,R(t,n,a,i,o,c,u,f,l))},p}function z(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function I(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function H(t){function e(e){var i=(e-n)/(r-n);return t(a?Math.max(0,Math.min(1,i)):i)}var n=0,r=1,a=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(a=!!t,e):a},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return H(t).domain([n,r]).clamp(a)},w(e)}var W=Array.prototype,U=W.map,q=W.slice,X={name:"implicit"},G=[0,1],$=1e3,V=60*$,Z=60*V,J=24*Z,Q=7*J,K=30*J,tt=365*J,et=z("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),nt=z("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),rt=z("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),at=z("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),it=r.interpolateCubehelixLong(c.cubehelix(300,.5,0),c.cubehelix(-240,.5,1)),ot=r.interpolateCubehelixLong(c.cubehelix(-100,.75,.35),c.cubehelix(80,1.5,.8)),ct=r.interpolateCubehelixLong(c.cubehelix(260,.75,.35),c.cubehelix(80,1.5,.8)),ut=c.cubehelix(),ft=I(z("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),lt=I(z("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),dt=I(z("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),st=I(z("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=f,t.scalePoint=function(){return l(f().paddingInner(1))},t.scaleIdentity=k,t.scaleLinear=M,t.scaleLog=D,t.scaleOrdinal=u,t.scaleImplicit=X,t.scalePow=B,t.scaleSqrt=function(){return B().exponent(.5)},t.scaleQuantile=P,t.scaleQuantize=E,t.scaleThreshold=F,t.scaleTime=function(){return R(i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,i.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return R(i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,i.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=et,t.schemeCategory20b=nt,t.schemeCategory20c=rt,t.schemeCategory20=at,t.interpolateCubehelixDefault=it,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ut.h=360*t-100,ut.s=1.5-1.5*e,ut.l=.8-.9*e,ut+""},t.interpolateWarm=ot,t.interpolateCool=ct,t.interpolateViridis=ft,t.interpolateMagma=lt,t.interpolateInferno=dt,t.interpolatePlasma=st,t.scaleSequential=H,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-array":1,"d3-collection":2,"d3-color":3,"d3-format":5,"d3-interpolate":6,"d3-time":10,"d3-time-format":9}],8:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ct.hasOwnProperty(e)?{space:ct[e],local:t}:t}function n(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ot&&e.documentElement.namespaceURI===ot?e.createElement(t):e.createElementNS(n,t)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function a(t){var a=e(t);return(a.local?r:n)(a)}function i(){return new o}function o(){this._="@"+(++ut).toString(36)}function c(t,e,n){return t=u(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function u(e,n,r){return function(a){var i=t.event;t.event=a;try{e.call(this,this.__data__,n,r)}finally{t.event=i}}}function f(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function l(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?e.length=a:delete this.__on}}}function d(t,e,n){var r=ht.hasOwnProperty(t.type)?c:u;return function(a,i,o){var c,u=this.__on,f=r(e,i,o);if(u)for(var l=0,d=u.length;l<d;++l)if((c=u[l]).type===t.type&&c.name===t.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=f,c.capture=n),void(c.value=e);this.addEventListener(t.type,f,n),c={type:t.type,name:t.name,value:e,listener:f,capture:n},u?u.push(c):this.__on=[c]}}function s(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function h(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function p(){}function g(t){return null==t?p:function(){return this.querySelector(t)}}function b(){return[]}function y(t){return null==t?b:function(){return this.querySelectorAll(t)}}function m(t){return new Array(t.length)}function v(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function x(t){return function(){return t}}function w(t,e,n,r,a,i){for(var o,c=0,u=e.length,f=i.length;c<f;++c)(o=e[c])?(o.__data__=i[c],r[c]=o):n[c]=new v(t,i[c]);for(;c<u;++c)(o=e[c])&&(a[c]=o)}function M(t,e,n,r,a,i,o){var c,u,f,l={},d=e.length,s=i.length,h=new Array(d);for(c=0;c<d;++c)(u=e[c])&&(h[c]=f=pt+o.call(u,u.__data__,c,e),f in l?a[c]=u:l[f]=u);for(c=0;c<s;++c)(u=l[f=pt+o.call(t,i[c],c,i)])?(r[c]=u,u.__data__=i[c],l[f]=null):n[c]=new v(t,i[c]);for(c=0;c<d;++c)(u=e[c])&&l[h[c]]===u&&(a[c]=u)}function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _(t){return function(){this.removeAttribute(t)}}function A(t){return function(){this.removeAttributeNS(t.space,t.local)}}function C(t,e){return function(){this.setAttribute(t,e)}}function S(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function N(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function j(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function D(t){return function(){this.style.removeProperty(t)}}function O(t,e,n){return function(){this.style.setProperty(t,e,n)}}function B(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function P(t){return function(){delete this[t]}}function E(t,e){return function(){this[t]=e}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function L(t){return t.trim().split(/^|\s+/)}function Y(t){return t.classList||new R(t)}function R(t){this._node=t,this._names=L(t.getAttribute("class")||"")}function z(t,e){for(var n=Y(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function I(t,e){for(var n=Y(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function H(t){return function(){z(this,t)}}function W(t){return function(){I(this,t)}}function U(t,e){return function(){(e.apply(this,arguments)?z:I)(this,t)}}function q(){this.textContent=""}function X(t){return function(){this.textContent=t}}function G(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function $(){this.innerHTML=""}function V(t){return function(){this.innerHTML=t}}function Z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(){return null}function tt(){var t=this.parentNode;t&&t.removeChild(this)}function et(t,e,n){var r=j(t),a=r.CustomEvent;a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function nt(t,e){return function(){return et(this,t,e)}}function rt(t,e){return function(){return et(this,t,e.apply(this,arguments))}}function at(t,e){this._groups=t,this._parents=e}function it(){return new at([[document.documentElement]],gt)}var ot="http://www.w3.org/1999/xhtml",ct={svg:"http://www.w3.org/2000/svg",xhtml:ot,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ut=0;o.prototype=i.prototype={constructor:o,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var ft=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var lt=document.documentElement;if(!lt.matches){var dt=lt.webkitMatchesSelector||lt.msMatchesSelector||lt.mozMatchesSelector||lt.oMatchesSelector;ft=function(t){return function(){return dt.call(this,t)}}}}var st=ft,ht={};t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ht={mouseenter:"mouseover",mouseleave:"mouseout"})),v.prototype={constructor:v,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var pt="$";R.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var gt=[null];at.prototype=it.prototype={constructor:at,select:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,c=e[a],u=c.length,f=r[a]=new Array(u),l=0;l<u;++l)(i=c[l])&&(o=t.call(i,i.__data__,l,c))&&("__data__"in i&&(o.__data__=i.__data__),f[l]=o);return new at(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,c=e[i],u=c.length,f=0;f<u;++f)(o=c[f])&&(r.push(t.call(o,o.__data__,f,c)),a.push(o));return new at(r,a)},filter:function(t){"function"!=typeof t&&(t=st(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],c=o.length,u=r[a]=[],f=0;f<c;++f)(i=o[f])&&t.call(i,i.__data__,f,o)&&u.push(i);return new at(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),f=-1,this.each(function(t){h[++f]=t}),h;var n=e?M:w,r=this._parents,a=this._groups;"function"!=typeof t&&(t=x(t));for(var i=a.length,o=new Array(i),c=new Array(i),u=new Array(i),f=0;f<i;++f){var l=r[f],d=a[f],s=d.length,h=t.call(l,l&&l.__data__,f,r),p=h.length,g=c[f]=new Array(p),b=o[f]=new Array(p);n(l,d,g,b,u[f]=new Array(s),h,e);for(var y,m,v=0,k=0;v<p;++v)if(y=g[v]){for(v>=k&&(k=v+1);!(m=b[k])&&++k<p;);y._next=m||null}}return o=new at(o,r),o._enter=c,o._exit=u,o},enter:function(){return new at(this._enter||this._groups.map(m),this._parents)},exit:function(){return new at(this._exit||this._groups.map(m),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),c=0;c<i;++c)for(var u,f=e[c],l=n[c],d=f.length,s=o[c]=new Array(d),h=0;h<d;++h)(u=f[h]||l[h])&&(s[h]=u);for(;c<r;++c)o[c]=e[c];return new at(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){t||(t=k);for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a){for(var i,o=e[a],c=o.length,u=r[a]=new Array(c),f=0;f<c;++f)(i=o[f])&&(u[f]=i);u.sort(function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n})}return new at(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,c=i.length;o<c;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function(t,n){var r=e(t);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((null==n?r.local?A:_:"function"==typeof n?r.local?T:N:r.local?S:C)(r,n))},style:function(t,e,n){var r;return arguments.length>1?this.each((null==e?D:"function"==typeof e?B:O)(t,e,null==n?"":n)):j(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,e){return arguments.length>1?this.each((null==e?P:"function"==typeof e?F:E)(t,e)):this.node()[t]},classed:function(t,e){var n=L(t+"");if(arguments.length<2){for(var r=Y(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?U:e?H:W)(n,e))},text:function(t){return arguments.length?this.each(null==t?q:("function"==typeof t?G:X)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?Z:V)(t)):this.node().innerHTML},raise:function(){return this.each(J)},lower:function(){return this.each(Q)},append:function(t){var e="function"==typeof t?t:a(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:a(t),r=null==e?K:"function"==typeof e?e:g(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(tt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,a,i=f(t+""),o=i.length;if(!(arguments.length<2)){for(c=e?d:l,null==n&&(n=!1),r=0;r<o;++r)this.each(c(i[r],e,n));return this}var c=this.node().__on;if(c)for(var u,s=0,h=c.length;s<h;++s)for(r=0,u=c[s];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?rt:nt)(t,e))}},t.creator=a,t.local=i,t.matcher=st,t.mouse=function(t){var e=s();return e.changedTouches&&(e=e.changedTouches[0]),h(t,e)},t.namespace=e,t.namespaces=ct,t.select=function(t){return"string"==typeof t?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],gt)},t.selectAll=function(t){return"string"==typeof t?new at([document.querySelectorAll(t)],[document.documentElement]):new at([null==t?[]:t],gt)},t.selection=it,t.selector=g,t.selectorAll=y,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=s().changedTouches);for(var r,a=0,i=e?e.length:0;a<i;++a)if((r=e[a]).identifier===n)return h(t,r);return null},t.touches=function(t,e){null==e&&(e=s().touches);for(var n=0,r=e?e.length:0,a=new Array(r);n<r;++n)a[n]=h(t,e[n]);return a},t.window=j,t.customEvent=function(e,n,r,a){var i=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,a)}finally{t.event=i}},Object.defineProperty(t,"__esModule",{value:!0})})},{}],9:[function(t,e,n){!function(r,a){"object"==typeof n&&void 0!==e?a(n,t("d3-time")):"function"==typeof define&&define.amd?define(["exports","d3-time"],a):a(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function i(t){function e(t,e){return function(n){var r,a,i,o=[],c=-1,u=0,f=t.length;for(n instanceof Date||(n=new Date(+n));++c<f;)37===t.charCodeAt(c)&&(o.push(t.slice(u,c)),null!=(a=et[r=t.charAt(++c)])?r=t.charAt(++c):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),o.push(r),u=c+1);return o.push(t.slice(u,c)),o.join("")}}function i(t,e){return function(n){var i=a(1900);if(o(i,t,n+="",0)!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var c="Z"in i?r(a(i.y)).getUTCDay():e(a(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(c+5)%7:i.w+7*i.U-(c+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,r(i)):e(i)}}function o(t,e,n,r){for(var a,i,o=0,c=e.length,u=n.length;o<c;){if(r>=u)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=vt[a in et?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}var c=t.dateTime,K=t.date,tt=t.time,nt=t.periods,rt=t.days,at=t.shortDays,it=t.months,ot=t.shortMonths,ct=u(nt),ut=f(nt),ft=u(rt),lt=f(rt),dt=u(at),st=f(at),ht=u(it),pt=f(it),gt=u(ot),bt=f(ot),yt={a:function(t){return at[t.getDay()]},A:function(t){return rt[t.getDay()]},b:function(t){return ot[t.getMonth()]},B:function(t){return it[t.getMonth()]},c:null,d:_,e:_,H:A,I:C,j:S,L:N,m:T,M:j,p:function(t){return nt[+(t.getHours()>=12)]},S:D,U:O,w:B,W:P,x:null,X:null,y:E,Y:F,Z:L,"%":Q},mt={a:function(t){return at[t.getUTCDay()]},A:function(t){return rt[t.getUTCDay()]},b:function(t){return ot[t.getUTCMonth()]},B:function(t){return it[t.getUTCMonth()]},c:null,d:Y,e:Y,H:R,I:z,j:I,L:H,m:W,M:U,p:function(t){return nt[+(t.getUTCHours()>=12)]},S:q,U:X,w:G,W:$,x:null,X:null,y:V,Y:Z,Z:J,"%":Q},vt={a:function(t,e,n){var r=dt.exec(e.slice(n));return r?(t.w=st[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=ft.exec(e.slice(n));return r?(t.w=lt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=gt.exec(e.slice(n));return r?(t.m=bt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=ht.exec(e.slice(n));return r?(t.m=pt[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return o(t,c,e,n)},d:y,e:y,H:v,I:v,j:m,L:M,m:b,M:x,p:function(t,e,n){var r=ct.exec(e.slice(n));return r?(t.p=ut[r[0].toLowerCase()],n+r[0].length):-1},S:w,U:d,w:l,W:s,x:function(t,e,n){return o(t,K,e,n)},X:function(t,e,n){return o(t,tt,e,n)},y:p,Y:h,Z:g,"%":k};return yt.x=e(K,yt),yt.X=e(tt,yt),yt.c=e(c,yt),mt.x=e(K,mt),mt.X=e(tt,mt),mt.c=e(c,mt),{format:function(t){var n=e(t+="",yt);return n.toString=function(){return t},n},parse:function(t){var e=i(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",mt);return n.toString=function(){return t},n},utcParse:function(t){var e=i(t,r);return e.toString=function(){return t},e}}}function o(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function c(t){return t.replace(at,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(c).join("|")+")","i")}function f(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=nt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function d(t,e,n){var r=nt.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function s(t,e,n){var r=nt.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function h(t,e,n){var r=nt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function p(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function g(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function b(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function y(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function m(t,e,n){var r=nt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function v(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function x(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function w(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function M(t,e,n){var r=nt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function k(t,e,n){var r=rt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _(t,e){return o(t.getDate(),e,2)}function A(t,e){return o(t.getHours(),e,2)}function C(t,e){return o(t.getHours()%12||12,e,2)}function S(t,n){return o(1+e.timeDay.count(e.timeYear(t),t),n,3)}function N(t,e){return o(t.getMilliseconds(),e,3)}function T(t,e){return o(t.getMonth()+1,e,2)}function j(t,e){return o(t.getMinutes(),e,2)}function D(t,e){return o(t.getSeconds(),e,2)}function O(t,n){return o(e.timeSunday.count(e.timeYear(t),t),n,2)}function B(t){return t.getDay()}function P(t,n){return o(e.timeMonday.count(e.timeYear(t),t),n,2)}function E(t,e){return o(t.getFullYear()%100,e,2)}function F(t,e){return o(t.getFullYear()%1e4,e,4)}function L(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+o(e/60|0,"0",2)+o(e%60,"0",2)}function Y(t,e){return o(t.getUTCDate(),e,2)}function R(t,e){return o(t.getUTCHours(),e,2)}function z(t,e){return o(t.getUTCHours()%12||12,e,2)}function I(t,n){return o(1+e.utcDay.count(e.utcYear(t),t),n,3)}function H(t,e){return o(t.getUTCMilliseconds(),e,3)}function W(t,e){return o(t.getUTCMonth()+1,e,2)}function U(t,e){return o(t.getUTCMinutes(),e,2)}function q(t,e){return o(t.getUTCSeconds(),e,2)}function X(t,n){return o(e.utcSunday.count(e.utcYear(t),t),n,2)}function G(t){return t.getUTCDay()}function $(t,n){return o(e.utcMonday.count(e.utcYear(t),t),n,2)}function V(t,e){return o(t.getUTCFullYear()%100,e,2)}function Z(t,e){return o(t.getUTCFullYear()%1e4,e,4)}function J(){return"+0000"}function Q(){return"%"}function K(e){return tt=i(e),t.timeFormat=tt.format,t.timeParse=tt.parse,t.utcFormat=tt.utcFormat,t.utcParse=tt.utcParse,tt}var tt,et={"-":"",_:" ",0:"0"},nt=/^\s*\d+/,rt=/^%/,at=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;K({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var it=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),ot=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.timeFormatDefaultLocale=K,t.timeFormatLocale=i,t.isoFormat=it,t.isoParse=ot,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":10}],10:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,n,r,o){function c(e){return t(e=new Date(+e)),e}return c.floor=c,c.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},c.round=function(t){var e=c(t),n=c.ceil(t);return t-e<n-t?e:n},c.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},c.range=function(e,r,a){var i=[];if(e=c.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return i;do{i.push(new Date(+e))}while(n(e,a),t(e),e<r);return i},c.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(c.count=function(e,n){return a.setTime(+e),i.setTime(+n),t(a),t(i),Math.floor(r(a,i))},c.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?c.filter(o?function(e){return o(e)%t==0}:function(e){return c.count(0,e)%t==0}):c:null}),c}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/f})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/f})}var a=new Date,i=new Date,o=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):o:null};var c=o.range,u=6e4,f=6048e5,l=e(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),d=l.range,s=e(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getMinutes()}),h=s.range,p=e(function(t){var e=t.getTimezoneOffset()*u%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),g=p.range,b=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/864e5},function(t){return t.getDate()-1}),y=b.range,m=n(0),v=n(1),x=n(2),w=n(3),M=n(4),k=n(5),_=n(6),A=m.range,C=v.range,S=x.range,N=w.range,T=M.range,j=k.range,D=_.range,O=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),B=O.range,P=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});P.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var E=P.range,F=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCMinutes()}),L=F.range,Y=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),R=Y.range,z=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),I=z.range,H=r(0),W=r(1),U=r(2),q=r(3),X=r(4),G=r(5),$=r(6),V=H.range,Z=W.range,J=U.range,Q=q.range,K=X.range,tt=G.range,et=$.range,nt=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),rt=nt.range,at=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});at.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var it=at.range;t.timeInterval=e,t.timeMillisecond=o,t.timeMilliseconds=c,t.utcMillisecond=o,t.utcMilliseconds=c,t.timeSecond=l,t.timeSeconds=d,t.utcSecond=l,t.utcSeconds=d,t.timeMinute=s,t.timeMinutes=h,t.timeHour=p,t.timeHours=g,t.timeDay=b,t.timeDays=y,t.timeWeek=m,t.timeWeeks=A,t.timeSunday=m,t.timeSundays=A,t.timeMonday=v,t.timeMondays=C,t.timeTuesday=x,t.timeTuesdays=S,t.timeWednesday=w,t.timeWednesdays=N,t.timeThursday=M,t.timeThursdays=T,t.timeFriday=k,t.timeFridays=j,t.timeSaturday=_,t.timeSaturdays=D,t.timeMonth=O,t.timeMonths=B,t.timeYear=P,t.timeYears=E,t.utcMinute=F,t.utcMinutes=L,t.utcHour=Y,t.utcHours=R,t.utcDay=z,t.utcDays=I,t.utcWeek=H,t.utcWeeks=V,t.utcSunday=H,t.utcSundays=V,t.utcMonday=W,t.utcMondays=Z,t.utcTuesday=U,t.utcTuesdays=J,t.utcWednesday=q,t.utcWednesdays=Q,t.utcThursday=X,t.utcThursdays=K,t.utcFriday=G,t.utcFridays=tt,t.utcSaturday=$,t.utcSaturdays=et,t.utcMonth=nt,t.utcMonths=rt,t.utcYear=at,t.utcYears=it,Object.defineProperty(t,"__esModule",{value:!0})})},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function t(t){var a=r.default.d3_calcType(e,_,s,p,m,w);t.selectAll("g").data([e]).enter().append("g").attr("class",g+"legendCells"),h&&r.default.d3_filterCells(a,h);var i=t.select("."+g+"legendCells").selectAll("."+g+"cell").data(a.data),o=i.enter().append("g").attr("class",g+"cell");o.append(n).attr("class",g+"swatch");var N=t.selectAll("g."+g+"cell "+n);r.default.d3_addEvents(o,S),i.exit().transition().style("opacity",0).remove(),r.default.d3_drawShapes(n,N,f,u,l,A),r.default.d3_addText(t,o,a.labels,g,M);var T=(i=o.merge(i)).selectAll("text"),j=T.nodes().map(function(t){return t.getBBox()}),D=N.nodes().map(function(t){return t.getBBox()});b?N.attr("class",function(t){return g+"swatch "+a.feature(t)}):"line"==n?N.style("stroke",a.feature):N.style("fill",a.feature);var O=void 0,B=void 0,P="start"==x?0:"middle"==x?.5:1;"vertical"===k?function(){var t=j.map(function(t,e){return Math.max(t.height,D[e].height)});O=function(e,n){return"translate(0, "+((0,c.sum)(t.slice(0,n))+n*d)+")"},B=function(t,e){return"translate( "+(D[e].width+D[e].x+v)+", "+(D[e].y+D[e].height/2+5)+")"}}():"horizontal"===k&&(O=function(t,e){return"translate("+e*(D[e].width+d)+",0)"},B=function(t,e){return"translate("+(D[e].width*P+D[e].x)+",\n          "+(D[e].height+D[e].y+v+8)+")"}),r.default.d3_placement(k,i,O,T,B,x),r.default.d3_title(t,y,g,C),i.transition().style("opacity",1)}var e=(0,i.scaleLinear)(),n="rect",u=15,f=15,l=10,d=2,s=[5],h=void 0,p=[],g="",b=!1,y="",m=(0,o.format)(".01f"),v=10,x="middle",w="to",M=void 0,k="vertical",_=!1,A=void 0,C=void 0,S=(0,a.dispatch)("cellover","cellout","cellclick");return t.scale=function(n){return arguments.length?(e=n,t):e},t.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(s=e),t):s},t.cellFilter=function(e){return arguments.length?(h=e,t):h},t.shape=function(e,r){return arguments.length?(("rect"==e||"circle"==e||"line"==e||"path"==e&&"string"==typeof r)&&(n=e,A=r),t):n},t.shapeWidth=function(e){return arguments.length?(u=+e,t):u},t.shapeHeight=function(e){return arguments.length?(f=+e,t):f},t.shapeRadius=function(e){return arguments.length?(l=+e,t):l},t.shapePadding=function(e){return arguments.length?(d=+e,t):d},t.labels=function(e){return arguments.length?(p=e,t):p},t.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(x=e),t):x},t.labelFormat=function(e){return arguments.length?(m="string"==typeof e?(0,o.format)(e):e,t):m},t.labelOffset=function(e){return arguments.length?(v=+e,t):v},t.labelDelimiter=function(e){return arguments.length?(w=e,t):w},t.labelWrap=function(e){return arguments.length?(M=e,t):M},t.useClass=function(e){return arguments.length?(!0!==e&&!1!==e||(b=e),t):b},t.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(k=e),t):k},t.ascending=function(e){return arguments.length?(_=!!e,t):_},t.classPrefix=function(e){return arguments.length?(g=e,t):g},t.title=function(e){return arguments.length?(y=e,t):y},t.titleWidth=function(e){return arguments.length?(C=e,t):C},t.textWrap=function(e){return arguments.length?(textWrap=e,t):textWrap},t.on=function(){var e=S.on.apply(S,arguments);return e===S?t:e},t};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("./legend")),a=t("d3-dispatch"),i=t("d3-scale"),o=t("d3-format"),c=t("d3-array")},{"./legend":13,"d3-array":1,"d3-dispatch":4,"d3-format":5,"d3-scale":7}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=n.thresholdLabels=function(t){var e=t.i,n=t.genLength,r=t.generatedLabels;return 0===e?r[e].replace("NaN to","Less than"):e===n-1?"More than "+r[n-1].replace(" to NaN",""):r[e]};n.default={thresholdLabels:r}},{}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("d3-selection"),i=function(t){return t},o=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},c=function(t,e){t.each(function(){for(var t,n=(0,a.select)(this),r=n.text().split(/\s+/).reverse(),i=[],o=(n.attr("y"),parseFloat(n.attr("dy"))||0),c=n.text(null).append("tspan").attr("x",0).attr("dy",o+"em");t=r.pop();)i.push(t),c.text(i.join(" ")),c.node().getComputedTextLength()>e&&i.length>1&&(i.pop(),c.text(i.join(" ")),i=[t],c=n.append("tspan").attr("x",0).attr("dy",1.2+o+"em").text(t))})},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],a=arguments[3];if("object"===(void 0===e?"undefined":r(e))){if(0===e.length)return t;for(var i=e.length;i<t.length;i++)e.push(t[i]);return e}if("function"==typeof e){for(var o=[],c=t.length,u=0;u<c;u++)o.push(e({i:u,genLength:c,generatedLabels:t,domain:n,range:a}));return o}return t},f=function(t,e,n){var r=[];if(e.length>1)r=e;else for(var a=t.domain(),i=(a[a.length-1]-a[0])/(e-1),o=0;o<e;o++)r.push(a[0]+o*i);return{data:r,labels:r.map(n),feature:function(e){return t(e)}}},l=function(t,e,n){var r=t.range().map(function(r){var a=t.invertExtent(r);return e(a[0])+" "+n+" "+e(a[1])});return{data:t.range(),labels:r,feature:i}},d=function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}},s=function(t,e,n){t.call("cellover",n,e)},h=function(t,e,n){t.call("cellout",n,e)},p=function(t,e,n){t.call("cellclick",n,e)};n.default={d3_drawShapes:function(t,e,n,r,a,i){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",a):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",i)},d3_addText:function(t,e,n,r,a){e.append("text").attr("class",r+"label");var o=t.selectAll("g."+r+"cell text."+r+"label").data(n).text(i);return a&&t.selectAll("g."+r+"cell text."+r+"label").call(c,a),o},d3_calcType:function(t,e,n,r,a,i){var c=t.invertExtent?l(t,a,i):t.ticks?f(t,n,a):d(t),s=t.range&&t.range()||t.domain();return c.labels=u(c.labels,r,t.domain(),s),e&&(c.labels=o(c.labels),c.data=o(c.data)),c},d3_filterCells:function(t,e){var n=t.data.map(function(e,n){return{data:e,label:t.labels[n]}}).filter(e),r=n.map(function(t){return t.data}),a=n.map(function(t){return t.label});return t.data=t.data.filter(function(t){return-1!==r.indexOf(t)}),t.labels=t.labels.filter(function(t){return-1!==a.indexOf(t)}),t},d3_placement:function(t,e,n,r,a,i){e.attr("transform",n),r.attr("transform",a),"horizontal"===t&&r.style("text-anchor",i)},d3_addEvents:function(t,e){t.on("mouseover.legend",function(t){s(e,t,this)}).on("mouseout.legend",function(t){h(e,t,this)}).on("click.legend",function(t){p(e,t,this)})},d3_title:function(t,e,n,r){if(""!==e){t.selectAll("text."+n+"legendTitle").data([e]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(e),r&&t.selectAll("text."+n+"legendTitle").call(c,r);var a=t.select("."+n+"legendCells"),i=t.select("."+n+"legendTitle").nodes().map(function(t){return t.getBBox().height})[0],o=-a.nodes().map(function(t){return t.getBBox().x})[0];a.attr("transform","translate("+o+","+i+")")}}}},{"d3-selection":8}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function t(t){var a=r.default.d3_calcType(e,w,l,s,g,m),i=t.selectAll("g").data([e]);d&&r.default.d3_filterCells(a,d),i.enter().append("g").attr("class",h+"legendCells");var o=t.select("."+h+"legendCells").selectAll("."+h+"cell").data(a.data),A=o.enter().append("g").attr("class",h+"cell");A.append(n).attr("class",h+"swatch");var C=t.selectAll("g."+h+"cell "+n);r.default.d3_addEvents(A,_),o.exit().transition().style("opacity",0).remove(),"line"===n?(r.default.d3_drawShapes(n,C,0,u),C.attr("stroke-width",a.feature)):r.default.d3_drawShapes(n,C,a.feature,a.feature,a.feature,M);var S=r.default.d3_addText(t,A,a.labels,h,v);o=A.merge(o);var N=S.nodes().map(function(t){return t.getBBox()}),T=C.nodes().map(function(t,r){var i=t.getBBox(),o=e(a.data[r]);return"line"===n&&"horizontal"===x?i.height=i.height+o:"line"===n&&"vertical"===x&&(i.width=i.width),i}),j=(0,c.max)(T,function(t){return t.height+t.y}),D=(0,c.max)(T,function(t){return t.width+t.x}),O=void 0,B=void 0,P="start"==y?0:"middle"==y?.5:1;"vertical"===x?function(){var t=N.map(function(t,e){return Math.max(t.height,T[e].height)}),e="circle"==n||"line"==n?T[0].height/2:0;O=function(n,r){var a=(0,c.sum)(t.slice(0,r));return"translate(0, "+(e+a+r*f)+")"},B=function(t,e){return"translate( "+(D+b)+",\n          "+(T[e].y+T[e].height/2+5)+")"}}():"horizontal"===x&&(O=function(t,e){return"translate("+((0,c.sum)(T.slice(0,e),function(t){return t.width})+e*f)+", "+("circle"==n||"line"==n?j/2:0)+")"},B=function(t,e){return"translate( "+(T[e].width*P+T[e].x)+",\n              "+(j+b)+")"}),r.default.d3_placement(x,o,O,S,B,y),r.default.d3_title(t,p,h,k),o.transition().style("opacity",1)}var e=(0,i.scaleLinear)(),n="rect",u=15,f=2,l=[5],d=void 0,s=[],h="",p="",g=(0,o.format)(".01f"),b=10,y="middle",m="to",v=void 0,x="vertical",w=!1,M=void 0,k=void 0,_=(0,a.dispatch)("cellover","cellout","cellclick");return t.scale=function(n){return arguments.length?(e=n,t):e},t.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(l=e),t):l},t.cellFilter=function(e){return arguments.length?(d=e,t):d},t.shape=function(e,r){return arguments.length?("rect"!=e&&"circle"!=e&&"line"!=e||(n=e,M=r),t):n},t.shapeWidth=function(e){return arguments.length?(u=+e,t):u},t.shapePadding=function(e){return arguments.length?(f=+e,t):f},t.labels=function(e){return arguments.length?(s=e,t):s},t.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(y=e),t):y},t.labelFormat=function(e){return arguments.length?(g="string"==typeof e?(0,o.format)(e):e,t):g},t.labelOffset=function(e){return arguments.length?(b=+e,t):b},t.labelDelimiter=function(e){return arguments.length?(m=e,t):m},t.labelWrap=function(e){return arguments.length?(v=e,t):v},t.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(x=e),t):x},t.ascending=function(e){return arguments.length?(w=!!e,t):w},t.classPrefix=function(e){return arguments.length?(h=e,t):h},t.title=function(e){return arguments.length?(p=e,t):p},t.titleWidth=function(e){return arguments.length?(k=e,t):k},t.on=function(){var e=_.on.apply(_,arguments);return e===_?t:e},t};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("./legend")),a=t("d3-dispatch"),i=t("d3-scale"),o=t("d3-format"),c=t("d3-array")},{"./legend":13,"d3-array":1,"d3-dispatch":4,"d3-format":5,"d3-scale":7}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function t(t){var a=r.default.d3_calcType(e,k,s,p,y,x),i=t.selectAll("g").data([e]);h&&r.default.d3_filterCells(a,h),i.enter().append("g").attr("class",g+"legendCells");var o=t.select("."+g+"legendCells").selectAll("."+g+"cell").data(a.data),C=o.enter().append("g").attr("class",g+"cell");C.append(n).attr("class",g+"swatch");var S=t.selectAll("g."+g+"cell "+n);r.default.d3_addEvents(C,A),o.exit().transition().style("opacity",0).remove(),r.default.d3_drawShapes(n,S,f,u,l,a.feature),r.default.d3_addText(t,C,a.labels,g,w);var N=(o=C.merge(o)).selectAll("text"),T=N.nodes().map(function(t){return t.getBBox()}),j=S.nodes().map(function(t){return t.getBBox()}),D=(0,c.max)(j,function(t){return t.height}),O=(0,c.max)(j,function(t){return t.width}),B=void 0,P=void 0,E="start"==m?0:"middle"==m?.5:1;"vertical"===M?function(){var t=T.map(function(t,e){return Math.max(D,t.height)});B=function(e,n){return"translate(0, "+((0,c.sum)(t.slice(0,n))+n*d)+" )"},P=function(t,e){return"translate( "+(O+v)+",\n              "+(j[e].y+j[e].height/2+5)+")"}}():"horizontal"===M&&(B=function(t,e){return"translate( "+e*(O+d)+",0)"},P=function(t,e){return"translate( "+(j[e].width*E+j[e].x)+",\n              "+(D+v)+")"}),r.default.d3_placement(M,o,B,N,P,m),r.default.d3_title(t,b,g,_),o.transition().style("opacity",1)}var e=(0,i.scaleLinear)(),n="path",u=15,f=15,l=10,d=5,s=[5],h=void 0,p=[],g="",b="",y=(0,o.format)(".01f"),m="middle",v=10,x="to",w=void 0,M="vertical",k=!1,_=void 0,A=(0,a.dispatch)("cellover","cellout","cellclick");return t.scale=function(n){return arguments.length?(e=n,t):e},t.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(s=e),t):s},t.cellFilter=function(e){return arguments.length?(h=e,t):h},t.shapePadding=function(e){return arguments.length?(d=+e,t):d},t.labels=function(e){return arguments.length?(p=e,t):p},t.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(m=e),t):m},t.labelFormat=function(e){return arguments.length?(y="string"==typeof e?(0,o.format)(e):e,t):y},t.labelOffset=function(e){return arguments.length?(v=+e,t):v},t.labelDelimiter=function(e){return arguments.length?(x=e,t):x},t.labelWrap=function(e){return arguments.length?(w=e,t):w},t.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(M=e),t):M},t.ascending=function(e){return arguments.length?(k=!!e,t):k},t.classPrefix=function(e){return arguments.length?(g=e,t):g},t.title=function(e){return arguments.length?(b=e,t):b},t.titleWidth=function(e){return arguments.length?(_=e,t):_},t.on=function(){var e=A.on.apply(A,arguments);return e===A?t:e},t};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("./legend")),a=t("d3-dispatch"),i=t("d3-scale"),o=t("d3-format"),c=t("d3-array")},{"./legend":13,"d3-array":1,"d3-dispatch":4,"d3-format":5,"d3-scale":7}],16:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var a=r(t("./color")),i=r(t("./size")),o=r(t("./symbol")),c=r(t("./helpers"));d3.legendColor=a.default,d3.legendSize=i.default,d3.legendSymbol=o.default,d3.legendHelpers=c.default},{"./color":11,"./helpers":12,"./size":14,"./symbol":15}]},{},[16]),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-array"),require("d3-collection"),require("d3-interpolate")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate"],e):e(t.d3=t.d3||{},t.d3,t.d3,t.d3)}(this,function(t,e,n,r){"use strict";t.sankey=function(){function t(){b.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),y.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=b[t.source]),"number"==typeof n&&(n=t.target=b[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})}function a(){b.forEach(function(t){t.value=Math.max(e.sum(t.sourceLinks,d),e.sum(t.targetLinks,d))})}function i(){for(var t,e=b,n=0;e.length;)t=[],e.forEach(function(e){e.x=n,e.dx=h,e.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),e=t,++n;o(n),c((g[0]-h)/(n-1))}function o(t){b.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}function c(t){b.forEach(function(e){e.x*=t})}function u(t){function r(){i.forEach(function(t){var e,n,r,i=0,o=t.length;for(t.sort(a),r=0;r<o;++r)(n=i-(e=t[r]).y)>0&&(e.y+=n),i=e.y+e.dy+p;if((n=i-p-g[1])>0)for(i=e.y-=n,r=o-2;r>=0;--r)(n=(e=t[r]).y+e.dy+p-i)>0&&(e.y-=n),i=e.y})}function a(t,e){return t.y-e.y}var i=n.nest().key(function(t){return t.x}).sortKeys(e.ascending).entries(b).map(function(t){return t.values});!function(){var t=e.min(i,function(t){return(g[1]-(t.length-1)*p)/e.sum(t,d)});i.forEach(function(e){e.forEach(function(e,n){e.y=n,e.dy=e.value*t})}),y.forEach(function(e){e.dy=e.value*t})}(),r();for(var o=1;t>0;--t)!function(t){function n(t){return l(t.target)*t.value}i.slice().reverse().forEach(function(r){r.forEach(function(r){if(r.sourceLinks.length){var a=e.sum(r.sourceLinks,n)/e.sum(r.sourceLinks,d);r.y+=(a-l(r))*t}})})}(o*=.99),r(),function(t){function n(t){return l(t.source)*t.value}i.forEach(function(r){r.forEach(function(r){if(r.targetLinks.length){var a=e.sum(r.targetLinks,n)/e.sum(r.targetLinks,d);r.y+=(a-l(r))*t}})})}(o),r()}function f(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}b.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),b.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function l(t){return t.y+t.dy/2}function d(t){return t.value}var s={},h=24,p=8,g=[1,1],b=[],y=[];return s.nodeWidth=function(t){return arguments.length?(h=+t,s):h},s.nodePadding=function(t){return arguments.length?(p=+t,s):p},s.nodes=function(t){return arguments.length?(b=t,s):b},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(g=t,s):g},s.layout=function(e){return t(),a(),i(),u(e),f(),s},s.relayout=function(){return f(),s},s.link=function(){function t(t){var n=t.source.x+t.source.dx,a=t.target.x,i=r.interpolateNumber(n,a),o=i(e),c=i(1-e),u=t.source.y+t.sy+t.dy/2,f=t.target.y+t.ty+t.dy/2;return"M"+n+","+u+"C"+o+","+u+" "+c+","+f+" "+a+","+f}var e=.5;return t.curvature=function(n){return arguments.length?(e=+n,t):e},t},s},Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-interpolate")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate"],e):e(t.d3=t.d3||{},t.d3)}(this,function(t,e){"use strict";var n=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n},r=n("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a=n("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),i=n("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),o=n("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),c=n("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u=n("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),f=n("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),l=n("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),d=function(t){return e.interpolateRgbBasis(t[t.length-1])},s=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(n),h=d(s),p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(n),g=d(p),b=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(n),y=d(b),m=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(n),v=d(m),x=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(n),w=d(x),M=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(n),k=d(M),_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(n),A=d(_),C=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(n),S=d(C),N=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(n),T=d(N),j=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(n),D=d(j),O=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(n),B=d(O),P=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(n),E=d(P),F=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(n),L=d(F),Y=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(n),R=d(Y),z=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(n),I=d(z),H=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(n),W=d(H),U=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(n),q=d(U),X=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(n),G=d(X),$=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(n),V=d($),Z=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(n),J=d(Z),Q=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(n),K=d(Q),tt=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(n),et=d(tt),nt=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(n),rt=d(nt),at=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(n),it=d(at),ot=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(n),ct=d(ot),ut=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(n),ft=d(ut),lt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(n),dt=d(lt);t.schemeAccent=r,t.schemeDark2=a,t.schemePaired=i,t.schemePastel1=o,t.schemePastel2=c,t.schemeSet1=u,t.schemeSet2=f,t.schemeSet3=l,t.interpolateBrBG=h,t.schemeBrBG=s,t.interpolatePRGn=g,t.schemePRGn=p,t.interpolatePiYG=y,t.schemePiYG=b,t.interpolatePuOr=v,t.schemePuOr=m,t.interpolateRdBu=w,t.schemeRdBu=x,t.interpolateRdGy=k,t.schemeRdGy=M,t.interpolateRdYlBu=A,t.schemeRdYlBu=_,t.interpolateRdYlGn=S,t.schemeRdYlGn=C,t.interpolateSpectral=T,t.schemeSpectral=N,t.interpolateBuGn=D,t.schemeBuGn=j,t.interpolateBuPu=B,t.schemeBuPu=O,t.interpolateGnBu=E,t.schemeGnBu=P,t.interpolateOrRd=L,t.schemeOrRd=F,t.interpolatePuBuGn=R,t.schemePuBuGn=Y,t.interpolatePuBu=I,t.schemePuBu=z,t.interpolatePuRd=W,t.schemePuRd=H,t.interpolateRdPu=q,t.schemeRdPu=U,t.interpolateYlGnBu=G,t.schemeYlGnBu=X,t.interpolateYlGn=V,t.schemeYlGn=$,t.interpolateYlOrBr=J,t.schemeYlOrBr=Z,t.interpolateYlOrRd=K,t.schemeYlOrRd=Q,t.interpolateBlues=et,t.schemeBlues=tt,t.interpolateGreens=rt,t.schemeGreens=nt,t.interpolateGreys=it,t.schemeGreys=at,t.interpolatePurples=ct,t.schemePurples=ot,t.interpolateReds=ft,t.schemeReds=ut,t.interpolateOranges=dt,t.schemeOranges=lt,Object.defineProperty(t,"__esModule",{value:!0})});var d3wb=function(){"use strict";var t={};t.symbol={mean:"Ø",median:"x̃",sum:"Σ"};t.config=function(){var n={width:u("Width"),height:u("Height"),margin:{top:0,right:0,bottom:0,left:0},parentDivId:null,svgId:null,debug:!1,bgColor:t.color.background,datasrc:void 0};return n.attr=function(t,e){if(void 0!==t&&void 0!==e){if(t=String(t).trim(),"string"==typeof e&&(e=String(e).trim()),t.match(/^margin\..+$/))return this[(n=t.split("."))[0]][n[1]]=+e,this;if("margin"==t&&String(e).match(/^[0-9]+[ ]+[0-9]+[ ]+[0-9]+[ ]+[0-9]+$/)){var n=e.split(/[ ]+/);return this.margin={top:+n[0],right:+n[1],bottom:+n[2],left:+n[3]},this}return this[t]=e,this}},n.data=function(t){return arguments.length?(this.datasrc=t,this):this.datasrc},n.toCanvas=function(){return e(this)},n};var e=function(t){if(n(t),c(t.parentDivId)||t.parentDivId.startsWith("#")||(t.parentDivId="#"+t.parentDivId),c(t.svgId)||t.svgId.startsWith("#")||(t.svgId="#"+t.svgId),o(t),t.innerWidth=t.width-t.margin.left-t.margin.right,t.innerHeight=t.height-t.margin.top-t.margin.bottom,c(t.svgId)||null==d3.select(t.svgId).node())e=d3.select("svg");else var e=d3.select(t.svgId);e.attr("width",t.width).attr("height",t.height),e.append("rect").attr("width",t.width).attr("height",t.height).attr("fill",t.bgColor),d3.select("#standalone-body").style("background-color",t.bgColor),a(e,t),i(e,t);var r=e.append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")");return r.svg=e,r.width=t.innerWidth,r.wid=t.innerWidth,r.w=t.innerWidth,r.height=t.innerHeight,r.hei=t.innerHeight,r.h=t.innerHeight,r.margin=t.margin,r.mar=t.margin,r.m=t.margin,r.data=t.data(),r.d=t.data(),r.div=d3.select(t.parentDivId?t.parentDivId:"#standalone-body"),r.transformCircular=function(){this.attr("transform","translate("+(this.w/2+this.m.left)+","+(this.h/2+this.m.top)+")")},r},n=function(t){var e=document.getElementsByTagName("script");if(!c(e)&&0!=e.length){n=e[e.length-1].src.split("/");if(!(c(n)||n.length<2)){var n=n[n.length-2],a=e[e.length-1],i=a.getAttribute("embedded")||!1;if(t.debug&&(console.log("scri-path | "+n),console.log("embedded  | "+i)),i){t.svgId=a.getAttribute("svgid")||!1,t.parentDivId=a.getAttribute("divid")||!1;var o=a.getAttribute("datapath")||void 0;r(t,o),t.debug&&(console.log("svg-id    | "+t.svgId),console.log("parent-id | "+t.parentDivId),console.log("data-path | "+o),console.log("res-path  | "+t.datasrc))}}}},r=function(t,e){if(void 0!==t.datasrc)if("string"==typeof t.datasrc||t.datasrc instanceof String)t.datasrc=e+"/"+t.datasrc;else for(var n=0;n<t.datasrc.length;n++)t.datasrc[n]=e+"/"+t.datasrc[n]},a=function(e,n){n.debug&&(e.append("rect").attr("width",n.width).attr("height",n.height).attr("fill",t.color.background.fade(20)),e.append("text").attr("x",n.width).attr("dominant-baseline","hanging").attr("text-anchor","end").attr("fill",t.color.white).text(n.width+"x"+n.height),e.append("rect").attr("width",n.margin.left).attr("height",n.margin.top).attr("fill",t.color.background.fade(10)),e.append("text").attr("font-size","80%").attr("x",n.margin.left/2).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("fill",t.color.white).text(n.margin.left),e.append("text").attr("font-size","80%").attr("y",n.margin.top/2).attr("dominant-baseline","middle").attr("text-anchor","begin").attr("fill",t.color.white).text(n.margin.top),e.append("rect").attr("x",n.width-n.margin.right).attr("y",n.height-n.margin.bottom).attr("width",n.margin.right).attr("height",n.margin.bottom).attr("fill",t.color.background.fade(10)),e.append("text").attr("font-size","80%").attr("x",n.width-n.margin.right/2).attr("y",n.height).attr("dominant-baseline","baseline").attr("text-anchor","middle").attr("fill",t.color.white).text(n.margin.right),e.append("text").attr("font-size","80%").attr("x",n.width).attr("y",n.height-n.margin.bottom/2).attr("dominant-baseline","middle").attr("text-anchor","end").attr("fill",t.color.white).text(n.margin.bottom))},i=function(e,n){if(n.debug){var r=e.append("g");r.append("rect").attr("width",n.innerWidth).attr("height",n.innerHeight).attr("fill",t.color.white.fade(30)),r.append("text").attr("x",n.innerWidth).attr("dominant-baseline","hanging").attr("text-anchor","end").attr("fill",t.color.white).text(n.innerWidth+"x"+n.innerHeight),r.append("circle").attr("cx",n.innerWidth/2).attr("cy",n.innerHeight/2).attr("r",5).attr("fill",t.color.white),r.append("line").attr("x1",0).attr("x2",n.innerWidth/2).attr("y1",0).attr("y2",n.innerHeight/2).attr("stroke-width",1).attr("stroke",t.color.white),r.append("line").attr("x1",n.innerWidth).attr("x2",n.innerWidth/2).attr("y1",n.innerHeight).attr("y2",n.innerHeight/2).attr("stroke-width",1).attr("stroke",t.color.white),r.append("line").attr("x1",n.innerWidth).attr("x2",n.innerWidth/2).attr("y1",0).attr("y2",n.innerHeight/2).attr("stroke-width",1).attr("stroke",t.color.white),r.append("line").attr("x1",0).attr("x2",n.innerWidth/2).attr("y1",n.innerHeight).attr("y2",n.innerHeight/2).attr("stroke-width",1).attr("stroke",t.color.white),r.attr("transform","translate("+n.margin.left+","+n.margin.top+")")}},o=function(t){if(!c(t.parentDivId)&&null!=d3.select(t.parentDivId).node()){var e=d3.select(t.parentDivId).node().getBoundingClientRect(),n=e.width;n<1&&(n=t.width);t.width;var r=e.height;t.width=n,t.height=r}},c=function(t){return void 0===t||null===t||""===t},u=function(t){return Math.max(document.documentElement["client"+t],document.body["scroll"+t],document.documentElement["scroll"+t],document.body["offset"+t],document.documentElement["offset"+t])};return t}();!function(){"use strict";var t=function(t,e){d3wb.util.injectCSS(`\n        .`+e+` line{\n          stroke: `+t+`;\n        }\n        .`+e+` path{\n          stroke: `+t+`;\n        }\n        .`+e+` text{\n          fill: `+t+`;\n        }  \n        `)},e=function(e){function n(n){n.each(function(n,c){t(r,"wb-axis-x");var u=d3.select(this).append("g").attr("transform","translate(0,"+i+")").attr("class","wb-axis wb-axis-x").call(a(e));90==o&&u.selectAll("text").attr("y",-2).attr("x",-9).attr("dy",".35em").style("text-anchor","end").attr("transform","rotate(-90)")})}var r="red",a=d3.axisTop,i=0,o=void 0;return n.type=function(t){return arguments.length?(a=t,n):a},n.y=function(t){return arguments.length?(i=t,n):i},n.color=function(t){return arguments.length?(r=t,n):r},n.rotation=function(t){return arguments.length?(o=t,n):o},n.scale=function(t){return arguments.length?(e=t,n):e},n.fontSize=function(t){return d3wb.util.injectCSS(`\n                .wb-axis-x text {\n                  font-size: `+t+`;\n              }`),n},n},n=function(e){function n(n){n.each(function(n,o){t(r,"wb-axis-y"),d3.select(this).append("g").attr("class","wb-axis wb-axis-y").attr("transform","translate("+i+",0)").call(a(e))})}var r="red",a=d3.axisLeft,i=0;return n.type=function(t){return arguments.length?(a=t,n):a},n.x=function(t){return arguments.length?(i=t,n):i},n.color=function(t){return arguments.length?(r=t,n):r},n.scale=function(t){return arguments.length?(e=t,n):e},n.fontSize=function(t){return d3wb.util.injectCSS(`\n                .wb-axis-y text {\n                  font-size: `+t+`;\n              }`),n},n};d3wb.add={xAxis:e,xAxisBottom:function(t){return e(t).type(d3.axisBottom)},xAxisLabel:function(t){function e(e){e.each(function(e,i){var o=d3.select(this.ownerSVGElement),c=o.node().getBBox();o.append("text").attr("transform",function(){var t="translate("+c.width/2+",";return t+="top"==a?r:c.height-r,t+=")"}).style("text-anchor","middle").style("fill",n).attr("dominant-baseline",function(){return"top"==a?"hanging":"auto"}).text(t)})}var n="red",r=15,a="top";return e.color=function(t){return arguments.length?(n=t,e):n},e.orientation=function(t){return arguments.length?(a=t,e):a},e},yAxis:n,yAxisRight:function(t){return n(t).type(d3.axisRight)},yAxisLabel:function(t){function e(e){e.each(function(e,i){var o=d3.select(this.ownerSVGElement),c=o.node().getBBox();o.append("text").attr("transform",function(){var t="translate(";return t+="left"==a?r:c.width-r,t+=","+c.height/2+") rotate(",t+="left"==a?"-90":"90",t+=")"}).style("text-anchor","middle").attr("dominant-baseline","hanging").style("fill",n).text(t)})}var n="red",r=5,a="left";return e.color=function(t){return arguments.length?(n=t,e):n},e.orientation=function(t){return arguments.length?(a=t,e):a},e},title:function(t){function e(e){e.each(function(e,i){var o=d3.select(this.ownerSVGElement),c=o.node().getBBox();o.append("text").attr("class","wb-title").attr("x",c.width/2).attr("y",5).attr("text-anchor","middle").attr("dominant-baseline","hanging").style("fill",n).style("font-size",r),(a=function(){o.selectAll(".wb-title").text(t)})()})}var n="red",r="140%",a=function(){};return e.color=function(t){return arguments.length?(n=t,e):n},e.fontSize=function(t){return arguments.length?(r=t,e):r},e.text=function(n){return arguments.length?(t=n,e):t},e.update=function(){a()},e},infoBox:function(t){function e(e){e.each(function(e,h){var p=d3.select(this.ownerSVGElement),g=p.node().getBBox(),b=p.append("g"),y=b.append("rect"),m=b.append("text"),v=t.split("\n");for(var h in v)m.append("tspan").style("text-anchor","end").style("dominant-baseline","hanging").style("font-size",o).style("fill",a).attr("x",0).attr("dy",function(){return 0==h?0:l}).text(v[h]);var x=m.node().getBBox();y.attr("rx",d).attr("ry",d).attr("width",x.width+2*c).attr("height",x.height+2*c).attr("x",x.x-c).attr("y",x.y-c).style("fill",i).style("opacity",f);var w=void 0!==n?n:g.width-u-c,M=void 0!==r?r:c+u;b.attr("transform","translate("+w+","+M+"),rotate("+s+")")})}var n,r,a="white",i="red",o="80%",c=10,u=10,f=.8,l=15,d=5,s=0;return e.opacity=function(t){return arguments.length?(f=t,e):f},e.color=function(t){return arguments.length?(a=t,e):a},e.fill=function(t){return arguments.length?(i=t,e):i},e.margin=function(t){return arguments.length?(u=t,e):u},e.roundCorners=function(t){return arguments.length?(d=t,e):d},e.rotate=function(t){return arguments.length?(s=t,e):s},e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e},shadow:function(){var t=3,e=2,n=1,r=.4,a=d3wb.util.guid();return function(i){i.each(function(){var i=d3.select(this),o=d3.select(this.ownerSVGElement).append("defs").append("filter").attr("id",a);o.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",t).attr("result","blur"),o.append("feOffset").attr("in","blur").attr("dx",e).attr("dy",n).attr("result","offsetBlur"),o.append("feComponentTransfer").append("feFuncA").attr("type","linear").attr("slope",r);var c=o.append("feMerge");c.append("feMergeNode").attr('in", "offsetBlur'),c.append("feMergeNode").attr("in","SourceGraphic"),i.style("filter","url(#"+a+")")})}},legend:function(){function t(t){t.each(function(){var t=d3.select(this);t.append("g").attr("class","legend").attr("transform","translate("+i+","+o+")");var f=d3.scaleOrdinal().domain(a.map(function(t){return t})).range(a.map(function(t,e){return r[e]})),l=d3.legendColor().shape("path",d3.symbol().type(c).size(u)()).scale(f);t.select(".legend").call(l).style("fill",n).style("font-size","90%"),e&&t.selectAll("path.swatch").style("stroke",e)})}var e,n="white",r=["red","green","blue"],a=["Item 1","Item 2","Item 3"],i=0,o=0,c=d3.symbolCircle,u=100;return t.stroke=function(n){return arguments.length?(e=n,t):e},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(o=e,t):o},t.text=function(e){return arguments.length?(a=e,t):a},t.colors=function(e){return arguments.length?(r=e,t):r},t.color=function(e){return arguments.length?(n=e,t):n},t.symbol=function(e){return arguments.length?(c=e,t):c},t.symbolSize=function(e){return arguments.length?(u=e,t):u},t}}}(),function(){"use strict";var t={dark:{background:"#1D1F21",black:"#282A2E",blue:"#5F819D",cyan:"#5E8D87",foreground:"#C5C8C6",green:"#8C9440",magenta:"#85678F",red:"#A54242",white:"#707880",yellow:"#DE935F"},gotham:{background:"#0A0F14",black:"#0A0F14",blue:"#195465",cyan:"#33859D",foreground:"#98D1CE",green:"#26A98B",magenta:"#4E5165",red:"#C33027",white:"#98D1CE",yellow:"#EDB54B"},light:{background:"#FFFFFF",black:"#000000",blue:"#87AFDF",cyan:"#AFDFDF",foreground:"#1A1D1D",green:"#AFD787",magenta:"#DFAFDF",red:"#D78787",white:"#FFFFFF",yellow:"#FFFFAF"},monokai:{background:"#272822",black:"#272822",blue:"#66D9EF",cyan:"#A1EFE4",foreground:"#F8F8F2",green:"#A6E22E",magenta:"#AE81FF",red:"#F92672",white:"#F8F8F2",yellow:"#F4BF75"},ocean:{background:"#2B303B",black:"#2B303B",blue:"#8FA1B3",cyan:"#96B5B4",foreground:"#C0C5CE",green:"#A3BE8C",magenta:"#B48EAD",red:"#BF616A",white:"#C0C5CE",yellow:"#EBCB8B"},sweetlove:{background:"#1F1F1F",black:"#4A3637",blue:"#535C5C",cyan:"#6D715E",foreground:"#C0B18B",green:"#7B8748",magenta:"#775759",red:"#D17B49",white:"#C0B18B",yellow:"#AF865A"},tomorrowlight:{background:"#FFFFFF",black:"#1D1F21",blue:"#81A2BE",cyan:"#8ABEB7",foreground:"#373B41",green:"#B5BD68",magenta:"#B294BB",red:"#CC6666",white:"#C5C8C6",yellow:"#F0C674"},yousay:{background:"#F5E7DE",black:"#666661",blue:"#4C7399",cyan:"#D97742",foreground:"#34302D",green:"#4C3226",magenta:"#BF9986",red:"#992E2E",white:"#34302D",yellow:"#A67C53"}},e=function(t,e){return t.name=e,t.fade=function(e){return u(t.name,100)[e]},t},n=function(t){var n=t;return"string"!=typeof t||t.startsWith("rgb")||(t=d3.rgb(d3wb.color[t]),t=e(t,n)),t},r=function(t){for(var e=[],n=0;n<t.length;n++)t[n].startsWith("#")?e.push(""+d3.rgb(t[n])):e.push(""+d3wb.color(t[n]));return e},a=function(){for(var t=["blue","red","green","magenta","foreground"],e=[],n=0;n<t.length;n++){var r=d3wb.color.lohiScaleArray(t[n],5,[.6,.6]);e=e.concat(r)}return e},i=function(){for(var t=["blue","cyan","green","magenta","red","yellow","foreground"],e=[],r=0;r<t.length;r++)e.push(n(t[r]));return e},o=function(t,e,n){if(n=n||[0,1],e<=2)return[t(0),t(1)];var r=(n[1]-n[0])/e,a=n[0]+r,i=[];i.push(t(n[0]));do{i.push(t(a)),a+=r}while(a<n[1]-r-1e-4);return i.push(t(n[1])),i},c=function(t,e,r,a){t=n(t),e=n(e);var i=d3.interpolateRgb(t,e);return o(i,r,a)},u=function(t,e,n){n=n||[.4,.7];var r=e%2==0,a=r?e/2:(e+1)/2,i=c("black",t,r?a+1:a,[n[0],1]),o=c(t,"white",a,[0,n[1]]);return i.concat(o.slice(1))},f=function(){return d3.scaleOrdinal(d3wb.color.category())},l=function(){for(var t=[],e=2;e<25;e+=5)t.push(d3wb.color.category()[e]);return d3.scaleOrdinal(t)},d=function(t,e){return e=e||[d3wb.color.white,d3wb.color.black],d3.scaleLinear().domain(t).interpolate(d3.interpolate).range(e)},s=function(t,e){return d3.scaleQuantile().domain(t).range(e)};d3wb.theme=function(n){if(!arguments.length){var o=Object.keys(d3wb.color),h=[];for(var p in o)"function"!=typeof d3wb.color[o[p]]&&h.push(d3wb.color[o[p]].name);return h}var g=t[n],b={lohiScaleArray:u,array:r,gradientArray:c,category:a,categoryMain:i,quantile:s,linearGradient:d,ordinal:f,smallOrdinal:l};for(var y in g)b[y]=d3.rgb(g[y]),b[y]=e(b[y],y);d3wb.color=b},d3wb.theme("light")}(),function(){"use strict";function t(t){var e={id:d3wb.util.websafeGuid(),div:d3.select("body"),callback:function(){console.log("callback.")},callbackOnInit:!1};return t.id=function(n){return arguments.length?(id=n,t):"#"+e.id},t.style=function(n,r){return d3wb.util.injectCSS(`\n                    #`+e.id+` {\n                        `+n+`: `+r+`;\n                    }\n                `),t},t.callback=function(n){return arguments.length?(e.callback=n,t):e.callback},e}function e(t){return void 0!==t.div?t.div:t}d3wb.html={dropdown:function(){function n(t){(t=e(t)).each(function(){var t=function(){var t=d3.select("#"+a.id).property("value"),e=r.indexOf(t);a.callback(t,e)};d3.select(this).append("select").attr("id",a.id).on("change",t).selectAll("option").data(r).enter().append("option").text(function(t){return t}),d3wb.util.injectCSS(`\n                        #`+a.id+` {\n                            position: absolute;\n                        }\n                    `),t()})}var r=["Option 1","Option 2","Option 3"],a=t(n);return n.options=function(t){return arguments.length?(r=t,n):r},n},button:function(){function n(t){(t=e(t)).each(function(){var t=d3.select(this),e=function(){var t=d3.select("#"+o.id).text(),e=a.indexOf(t);i=(i+1)%a.length,o.callback(t,e),r.text(a[i])};r=t.append("button").attr("id",o.id).text(a[i]).on("click",e),d3wb.util.injectCSS(`\n                        #`+o.id+` {\n                            position: absolute;\n                        }\n                    `),o.callbackOnInit&&e()})}var r,a=["Click me"],i=0,o=t(n);return n.options=function(t){return arguments.length?(a=t,n):a},n},textfield:function(){function n(t){(t=e(t)).each(function(){var t=function(t){r.callback(t.value)};d3.select(this).append("input").attr("id",r.id).on("input",function(){t(this)}),d3wb.util.injectCSS(`\n                        #`+r.id+` {\n                            position: absolute;\n                        }\n                    `)})}var r=t(n);return n}}}(),function(){"use strict";var t=function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};d3wb.util={setLocale:function(t){if("de"!=t)throw"Unsupported locale.";d3.timeFormat=d3.timeFormatLocale({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}).format},changeCSVSeparator:function(t){d3.csv=function(e,n){d3.request(e).mimeType("text/csv").response(function(e){return d3.dsvFormat(t).parse(e.responseText)}).get(n)}},smoothData:function(t,e,n,r){var a=[],i=[];t.forEach(function(e,o){var c=o+1;if(a.push(e[n]),c%r==0||c==t.length){var u=d3.median(a);i.push(u),a=[]}});var o=[],c=0,u=0;for(var f in i){i[f];for(var l=(c+=r)>t.length?t.length%r:r,d=0==f?t[0][n]:i[f-1],s=i[f],h=d3.interpolate(d,s),p=1/l,g=0,b=0;b<l;b++){g+=p;var y={};y[e]=t[u][e],y[n]=h(g),o.push(y),u+=1}}return o},countCsvColumn:function(t,e,n,r){n=void 0===n||n;var a=d3.nest().key(function(t){return t[e]}).entries(t);void 0!==r&&r.length>0&&(a=a.filter(function(t){return!r.includes(t.key)}));for(var i=[],o=0;o<a.length;o++){var c={label:a[o].key,count:+a[o].values.length};i.push(c)}var u=d3.sum(i,function(t){return+t.count});return i.forEach(function(t){t.percent=+t.count/u*100}),n&&i.sort(function(t,e){return e.percent-t.percent}),i},guid:t,websafeGuid:function(){return"d3wb-"+t()},injectCSS:function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("style");n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)},logSVGSize:function(t){var e=t.ownerSVGElement.getBBox();console.log(e.x+" x "+e.y+" | "+e.width+" x "+e.height)},jsonAttributeMapToCSV:function(t){var e=["key"];for(var n in t[Object.keys(t)[0]])e.push(n);var r=['"'+e.join('","')+'"'];for(var a in t){var i=[a];for(var o in e)if(0!=o){var c=e[o];i.push(t[a][c])}r.push('"'+i.join('","')+'"')}var u=r.join("\n");return d3.csvParse(u)},getBoundingBoxCenter:function(t){var e=d3.select(t).node().getBBox();return[e.x+e.width/2,e.y+e.height/2]}}}();
