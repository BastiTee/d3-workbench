function wbButton(){"use strict";function t(t){t.each(function(t,y){var v=d3.select(this),x=(e=v.append("g").attr("class","wb-button")).append("rect"),w=e.append("text");w.attr("pointer-events","none").attr("text-anchor","left").attr("alignment-baseline","hanging").style("user-select","none").style("cursor","pointer").style("font-size",d).style("fill",s).attr("transform","translate("+a+","+a+")"),(m=function(){u=n(l),w.text(Array(u).join("X"));var t=w.node().getBBox();x.attr("x",t.x).attr("y",t.y).attr("width",t.width+2*a).attr("height",t.height+2*a).attr("ry",5).attr("rx",5).style("cursor","pointer").style("fill",h).style("fill-opacity",p).on("click",function(){f=!1,o()}).on("mouseover",function(t,e){f=!1,d3.select(this).transition().duration(250).style("fill",g).attr("stroke",s).attr("stroke-width",1)}).on("mouseout",function(t,e){d3.select(this).transition().duration(250).style("fill",h).attr("stroke-width",0)});var d=x.node().getBBox();e.attr("transform","translate("+r+","+(i-d.y)+")"),c=(c+1)%l.length,w.text(l[c]),t=w.node().getBBox();var m=d.width-t.width;x.attr("transform","translate("+(-m/2+a)+",0)"),e.attr("transform","translate("+(r+m/2)+","+i+")")})(),setInterval(function(){f&&x.transition().duration(500).style("fill",g).attr("stroke",s).attr("stroke-width",1).transition().duration(500).style("fill",h).attr("stroke-width",0)},5e3)})}var e,n=function(t){return d3.max(t,function(t){return t.length})},r=0,i=0,a=3,o=function(){m(),console.log("d3wb: button clicked")},l=["Button State","Another State"],c=-1,u=n(l),d="80%",s="white",h="red",g="orange",f=!0,p=.8,m=function(){};return t.x=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=e,t):i},t.labels=function(e){return arguments.length?(l=e,t):l},t.callback=function(e){return arguments.length?(o=function(){m(),e()},t):o},t.fontSize=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(s=e,t):s},t.fillHighlight=function(e){return arguments.length?(g=e,t):g},t.fill=function(e){return arguments.length?(h=e,t):h},t.opacity=function(e){return arguments.length?(p=e,t):p},t.pulse=function(e){return arguments.length?(f=e,t):f},t}function wbCooltip(){"use strict";function t(t){t.each(function(t,c){var u,d,s,h=d3.select(this),g=this.ownerSVGElement,f=g.getBBox(),p=!1;h.on("mouseover",function(t){if(!p){p=!0,u=d3.select(g).append("g").style("pointer-events","none"),d=u.append("rect"),s=u.append("text");var c=(""+l(t)).split("\n");for(var h in c)s.append("tspan").style("text-anchor","middle").style("alignment-baseline","hanging").style("fill",r).attr("x",0).attr("dy",function(){return 0==h?0:a}).text(c[h]);var f=s.node().getBBox();d.attr("rx",o).attr("ry",o).attr("width",f.width+2*n).attr("height",f.height+2*n).attr("x",-f.width/2-n).attr("y",-n).attr("opacity",e).style("fill",i)}}),h.on("mouseout",function(){p&&(p=!1,u.remove())}),h.on("mousemove",function(){var t=d3.mouse(g),e=d.node().getBBox(),r=t[0],i=t[1]-e.height;r=(r=r-e.width/2<0?e.width/2:r)+e.width/2>f.width?f.width-e.width/2:r,i=(i=i-n<0?n:i)+e.height-n>f.height?f.height-e.height+n:i,u.attr("transform","translate("+r+","+i+")")})})}var e=.8,n=5,r="white",i="black",a=20,o=5,l=function(){return(new Date).toDateString()+"\n"+String(Math.floor(9e8*Math.random()))};return t.opacity=function(n){return arguments.length?(e=n,t):e},t.padding=function(e){return arguments.length?(n=e,t):n},t.color=function(e){return arguments.length?(r=e,t):r},t.fill=function(e){return arguments.length?(i=e,t):i},t.lineHeight=function(e){return arguments.length?(a=e,t):a},t.roundCorners=function(e){return arguments.length?(o=e,t):o},t.selector=function(e){return arguments.length?(l=e,t):l},t}function wbTextbox(){function t(t){t.each(function(){var t=d3.select(this);d3.select("body").on("keydown",k).on("keypress",F).on("click",function(){x&&(e.attr("stroke",f),e.attr("fill",d),x=!1)});var g=t.append("g").attr("transform","translate("+a+","+o+")");e=g.append("rect").attr("width",l).attr("height",c).attr("rx",5).style("fill",d).style("stroke-width","1px").style("stroke",f).style("opacity",1),n=g.append("text").text(i).style("font-size",u).style("alignment-baseline","hanging").style("fill",h),r=g.append("text").style("alignment-baseline","hanging").style("font-size",u).style("fill",h).text("|").attr("opacity",0),g.append("rect").attr("width",l).attr("height",c).style("opacity",0).on("click",function(){x=!0,e.style("stroke",p),e.style("fill",s),r.attr("opacity",1),d3.event.stopPropagation()}),B()})}var e,n,r,i="Search...",a=10,o=10,l=120,c=40,u="80%",d="red",s="orange",h="white",g="white",f="darkred",p="darkorange",m=!0,y=!0,v=function(t){console.log("textbox-callback '"+t+"'")},x=!1,w=function(t){},b=function(t){void 0!==t?(y&&(t=t.toLowerCase()),""!==t?v(t):m&&v(t)):v(t)},B=function(){textB=n.node().getBoundingClientRect(),curB=r.node().getBoundingClientRect(),n.attr("x",.5*(l-textB.width)),n.attr("y",.5*(c-textB.height)),r.attr("x",l/2+textB.width/2),textB.height>0?r.attr("y",.5*(c-textB.height)):r.attr("y",.5*(c-curB.height))},k=function(){if(x){var t=d3.event.keyCode;w();var i=n.text(),a=[8,13,27];t<27&&!a.includes(t)||(8==t&&(d3.event.preventDefault(),i=i.substring(0,i.length-1),n.text(i),B(),b(i)),13==t&&b(i),27==t&&(e.style("stroke",f),e.style("fill",d),r.attr("opacity",0),x=!1,b(void 0)))}},F=function(){var t=d3.event.keyCode;if(w(),!(t<=27)){var e=n.text();e+=String.fromCharCode(t),n.text(e),B(),b(e)}};return t.callback=function(e){return arguments.length?(v=e,t):v},t.text=function(e){return arguments.length?(i=e,t):i},t.fill=function(e){return arguments.length?(d=e,t):d},t.fillSelected=function(e){return arguments.length?(s=e,t):s},t.stroke=function(e){return arguments.length?(f=e,t):f},t.strokeSelected=function(e){return arguments.length?(p=e,t):p},t.color=function(e){return arguments.length?(h=e,t):h},t.colorSelected=function(e){return arguments.length?(g=e,t):g},t.text=function(e){return arguments.length?(i=e,t):i},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(c=e,t):c},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.returnEmpty=function(e){return arguments.length?(m=e,t):m},t.returnLowercase=function(e){return arguments.length?(y=e,t):y},t}var d3wb=function(){"use strict";var t={};t.symbol={mean:"Ø",median:"x̃",sum:"Σ"};t.config=function(){var n={width:c("Width"),height:c("Height"),margin:{top:0,right:0,bottom:0,left:0},parentDivId:null,svgId:null,debug:!1,bgColor:t.color.background,datasrc:void 0};return n.attr=function(t,e){if(void 0!==t&&void 0!==e){if(t=String(t).trim(),"string"==typeof e&&(e=String(e).trim()),t.match(/^margin\..+$/))return this[(n=t.split("."))[0]][n[1]]=+e,this;if("margin"==t&&String(e).match(/^[0-9]+[ ]+[0-9]+[ ]+[0-9]+[ ]+[0-9]+$/)){var n=e.split(/[ ]+/);return this.margin={top:+n[0],right:+n[1],bottom:+n[2],left:+n[3]},this}return this[t]=e,this}},n.data=function(t){return arguments.length?(this.datasrc=t,this):this.datasrc},n.toCanvas=function(){return e(this)},n};var e=function(t){if(n(t),l(t.parentDivId)||t.parentDivId.startsWith("#")||(t.parentDivId="#"+t.parentDivId),l(t.svgId)||t.svgId.startsWith("#")||(t.svgId="#"+t.svgId),o(t),t.innerWidth=t.width-t.margin.left-t.margin.right,t.innerHeight=t.height-t.margin.top-t.margin.bottom,l(t.svgId)||null==d3.select(t.svgId).node())e=d3.select("svg");else var e=d3.select(t.svgId);e.attr("width",t.width).attr("height",t.height),e.append("rect").attr("width",t.width).attr("height",t.height).attr("fill",t.bgColor),d3.select("#standalone-body").style("background-color",t.bgColor),i(e,t),a(e,t);var r=e.append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")");return r.svg=e,r.width=t.innerWidth,r.wid=t.innerWidth,r.w=t.innerWidth,r.height=t.innerHeight,r.hei=t.innerHeight,r.h=t.innerHeight,r.margin=t.margin,r.mar=t.margin,r.m=t.margin,r.data=t.data(),r.d=t.data(),r.div=t.parentDivId?t.parentDivId:"#standalone-body",r.transformCircular=function(){this.attr("transform","translate("+(this.w/2+this.m.left)+","+(this.h/2+this.m.top)+")")},r},n=function(t){var e=document.getElementsByTagName("script");if(!l(e)&&0!=e.length){n=e[e.length-1].src.split("/");if(!(l(n)||n.length<2)){var n=n[n.length-2],i=e[e.length-1],a=i.getAttribute("embedded")||!1;if(t.debug&&(console.log("scri-path | "+n),console.log("embedded  | "+a)),a){t.svgId=i.getAttribute("svgid")||!1,t.parentDivId=i.getAttribute("divid")||!1;var o=i.getAttribute("datapath")||void 0;r(t,o),t.debug&&(console.log("svg-id    | "+t.svgId),console.log("parent-id | "+t.parentDivId),console.log("data-path | "+o),console.log("res-path  | "+t.datasrc))}}}},r=function(t,e){if(void 0!==t.datasrc)if("string"==typeof t.datasrc||t.datasrc instanceof String)t.datasrc=e+"/"+t.datasrc;else for(var n=0;n<t.datasrc.length;n++)t.datasrc[n]=e+"/"+t.datasrc[n]},i=function(e,n){n.debug&&(e.append("rect").attr("width",n.width).attr("height",n.height).attr("fill",t.color.background.fade(20)),e.append("text").attr("x",n.width).attr("alignment-baseline","hanging").attr("text-anchor","end").attr("fill",t.color.white).text(n.width+"x"+n.height),e.append("rect").attr("width",n.margin.left).attr("height",n.margin.top).attr("fill",t.color.background.fade(10)),e.append("text").attr("font-size","80%").attr("x",n.margin.left/2).attr("alignment-baseline","hanging").attr("text-anchor","middle").attr("fill",t.color.white).text(n.margin.left),e.append("text").attr("font-size","80%").attr("y",n.margin.top/2).attr("alignment-baseline","middle").attr("text-anchor","begin").attr("fill",t.color.white).text(n.margin.top),e.append("rect").attr("x",n.width-n.margin.right).attr("y",n.height-n.margin.bottom).attr("width",n.margin.right).attr("height",n.margin.bottom).attr("fill",t.color.background.fade(10)),e.append("text").attr("font-size","80%").attr("x",n.width-n.margin.right/2).attr("y",n.height).attr("alignment-baseline","baseline").attr("text-anchor","middle").attr("fill",t.color.white).text(n.margin.right),e.append("text").attr("font-size","80%").attr("x",n.width).attr("y",n.height-n.margin.bottom/2).attr("alignment-baseline","middle").attr("text-anchor","end").attr("fill",t.color.white).text(n.margin.bottom))},a=function(e,n){if(n.debug){var r=e.append("g");r.append("rect").attr("width",n.innerWidth).attr("height",n.innerHeight).attr("fill",t.color.white.fade(30)),r.append("text").attr("x",n.innerWidth).attr("alignment-baseline","hanging").attr("text-anchor","end").attr("fill",t.color.white).text(n.innerWidth+"x"+n.innerHeight),r.append("circle").attr("cx",n.innerWidth/2).attr("cy",n.innerHeight/2).attr("r",5).attr("fill",t.color.white),r.append("line").attr("x1",0).attr("x2",n.innerWidth/2).attr("y1",0).attr("y2",n.innerHeight/2).attr("stroke-width",1).attr("stroke",t.color.white),r.append("line").attr("x1",n.innerWidth).attr("x2",n.innerWidth/2).attr("y1",n.innerHeight).attr("y2",n.innerHeight/2).attr("stroke-width",1).attr("stroke",t.color.white),r.append("line").attr("x1",n.innerWidth).attr("x2",n.innerWidth/2).attr("y1",0).attr("y2",n.innerHeight/2).attr("stroke-width",1).attr("stroke",t.color.white),r.append("line").attr("x1",0).attr("x2",n.innerWidth/2).attr("y1",n.innerHeight).attr("y2",n.innerHeight/2).attr("stroke-width",1).attr("stroke",t.color.white),r.attr("transform","translate("+n.margin.left+","+n.margin.top+")")}},o=function(t){if(!l(t.parentDivId)&&null!=d3.select(t.parentDivId).node()){var e=d3.select(t.parentDivId).node().getBoundingClientRect(),n=e.width;n<1&&(n=t.width);t.width;var r=e.height;t.width=n,t.height=r}},l=function(t){return void 0===t||null===t||""===t},c=function(t){return Math.max(document.documentElement["client"+t],document.body["scroll"+t],document.documentElement["scroll"+t],document.body["offset"+t],document.documentElement["offset"+t])};return t}();!function(){"use strict";var t=function(t,e){d3wb.util.injectCSS(`\n        .`+e+` line{\n          stroke: `+t+`;\n        }\n        .`+e+` path{\n          stroke: `+t+`;\n        }\n        .`+e+` text{\n          fill: `+t+`;\n        }  \n        `)},e=function(e){function n(n){n.each(function(n,l){t(r,"wb-axis-x");var c=d3.select(this).append("g").attr("transform","translate(0,"+a+")").attr("class","wb-axis wb-axis-x").call(i(e));90==o&&c.selectAll("text").attr("y",-2).attr("x",-9).attr("dy",".35em").style("text-anchor","end").attr("transform","rotate(-90)")})}var r="red",i=d3.axisTop,a=0,o=void 0;return n.type=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(a=t,n):a},n.color=function(t){return arguments.length?(r=t,n):r},n.rotation=function(t){return arguments.length?(o=t,n):o},n.scale=function(t){return arguments.length?(e=t,n):e},n.fontSize=function(t){return d3wb.util.injectCSS(`\n                .wb-axis-x text {\n                  font-size: `+t+`;\n              }`),n},n},n=function(e){function n(n){n.each(function(n,o){t(r,"wb-axis-y"),d3.select(this).append("g").attr("class","wb-axis wb-axis-y").attr("transform","translate("+a+",0)").call(i(e))})}var r="red",i=d3.axisLeft,a=0;return n.type=function(t){return arguments.length?(i=t,n):i},n.x=function(t){return arguments.length?(a=t,n):a},n.color=function(t){return arguments.length?(r=t,n):r},n.scale=function(t){return arguments.length?(e=t,n):e},n.fontSize=function(t){return d3wb.util.injectCSS(`\n                .wb-axis-y text {\n                  font-size: `+t+`;\n              }`),n},n};d3wb.add={xAxis:e,xAxisBottom:function(t){return e(t).type(d3.axisBottom)},xAxisLabel:function(t){function e(e){e.each(function(e,a){var o=d3.select(this.ownerSVGElement),l=o.node().getBBox();o.append("text").attr("transform",function(){var t="translate("+l.width/2+",";return t+="top"==i?r:l.height-r,t+=")"}).style("text-anchor","middle").style("fill",n).attr("alignment-baseline",function(){return"top"==i?"hanging":"auto"}).text(t)})}var n="red",r=15,i="top";return e.color=function(t){return arguments.length?(n=t,e):n},e.orientation=function(t){return arguments.length?(i=t,e):i},e},yAxis:n,yAxisRight:function(t){return n(t).type(d3.axisRight)},yAxisLabel:function(t){function e(e){e.each(function(e,a){var o=d3.select(this.ownerSVGElement),l=o.node().getBBox();o.append("text").attr("transform",function(){var t="translate(";return t+="left"==i?r:l.width-r,t+=","+l.height/2+") rotate(",t+="left"==i?"-90":"90",t+=")"}).style("text-anchor","middle").attr("alignment-baseline","hanging").style("fill",n).text(t)})}var n="red",r=5,i="left";return e.color=function(t){return arguments.length?(n=t,e):n},e.orientation=function(t){return arguments.length?(i=t,e):i},e},title:function(t){function e(e){e.each(function(e,a){var o=d3.select(this.ownerSVGElement),l=o.node().getBBox();o.append("text").attr("class","wb-title").attr("x",l.width/2).attr("y",5).attr("text-anchor","middle").attr("alignment-baseline","hanging").style("fill",n).style("font-size",r),(i=function(){o.selectAll(".wb-title").text(t)})()})}var n="red",r="140%",i=function(){};return e.color=function(t){return arguments.length?(n=t,e):n},e.fontSize=function(t){return arguments.length?(r=t,e):r},e.text=function(n){return arguments.length?(t=n,e):t},e.update=function(){i()},e},infoBox:function(t){function e(e){e.each(function(e,u){var d=d3.select(this.ownerSVGElement),s=d.node().getBBox(),h=d.append("g"),g=h.append("rect"),f=h.append("text"),p=t.split("\n");for(var u in p)f.append("tspan").style("text-anchor","end").style("alignment-baseline","hanging").style("font-size",i).style("fill",n).attr("x",0).attr("dy",function(){return 0==u?0:c}).text(p[u]);var m=f.node().getBBox();g.attr("rx","5").attr("ry","5").attr("width",m.width+2*a).attr("height",m.height+2*a).attr("x",m.x-a).attr("y",m.y-a).style("fill",r).style("opacity",l);var y=s.width-o-a,v=a+o;h.attr("transform","translate("+y+","+v+")")})}var n="white",r="red",i="80%",a=10,o=10,l=.8,c=15,u="topright";return e.color=function(t){return arguments.length?(n=t,e):n},e.fill=function(t){return arguments.length?(r=t,e):r},e.orientation=function(t){return arguments.length?(u=t,e):u},e},shadow:function(){var t=3,e=2,n=1,r=.4,i=d3wb.util.guid();return function(a){a.each(function(){var a=d3.select(this),o=d3.select(this.ownerSVGElement).append("defs").append("filter").attr("id",i);o.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",t).attr("result","blur"),o.append("feOffset").attr("in","blur").attr("dx",e).attr("dy",n).attr("result","offsetBlur"),o.append("feComponentTransfer").append("feFuncA").attr("type","linear").attr("slope",r);var l=o.append("feMerge");l.append("feMergeNode").attr('in", "offsetBlur'),l.append("feMergeNode").attr("in","SourceGraphic"),a.style("filter","url(#"+i+")")})}},legend:function(){function t(t){t.each(function(){var t=d3.select(this);t.append("g").attr("class","legend").attr("transform","translate("+i+","+a+")");var o=d3.scaleOrdinal().domain(r.map(function(t){return t})).range(r.map(function(t,e){return n[e]})),l=d3.legendColor().shape("path",d3.symbol().type(d3.symbolCircle).size(100)()).scale(o);t.select(".legend").call(l).style("fill",e).style("font-size","90%")})}var e="white",n=["red","green","blue"],r=["Item 1","Item 2","Item 3"],i=0,a=0;return t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=e,t):a},t.text=function(e){return arguments.length?(r=e,t):r},t.colors=function(e){return arguments.length?(n=e,t):n},t.color=function(n){return arguments.length?(e=n,t):e},t}}}(),function(){"use strict";var t={dark:{background:"#1D1F21",black:"#282A2E",blue:"#5F819D",cyan:"#5E8D87",foreground:"#C5C8C6",green:"#8C9440",magenta:"#85678F",red:"#A54242",white:"#707880",yellow:"#DE935F"},gotham:{background:"#0A0F14",black:"#0A0F14",blue:"#195465",cyan:"#33859D",foreground:"#98D1CE",green:"#26A98B",magenta:"#4E5165",red:"#C33027",white:"#98D1CE",yellow:"#EDB54B"},light:{background:"#FFFFFF",black:"#000000",blue:"#87AFDF",cyan:"#AFDFDF",foreground:"#1A1D1D",green:"#AFD787",magenta:"#DFAFDF",red:"#D78787",white:"#FFFFFF",yellow:"#FFFFAF"},monokai:{background:"#272822",black:"#272822",blue:"#66D9EF",cyan:"#A1EFE4",foreground:"#F8F8F2",green:"#A6E22E",magenta:"#AE81FF",red:"#F92672",white:"#F8F8F2",yellow:"#F4BF75"},ocean:{background:"#2B303B",black:"#2B303B",blue:"#8FA1B3",cyan:"#96B5B4",foreground:"#C0C5CE",green:"#A3BE8C",magenta:"#B48EAD",red:"#BF616A",white:"#C0C5CE",yellow:"#EBCB8B"},sweetlove:{background:"#1F1F1F",black:"#4A3637",blue:"#535C5C",cyan:"#6D715E",foreground:"#C0B18B",green:"#7B8748",magenta:"#775759",red:"#D17B49",white:"#C0B18B",yellow:"#AF865A"},tomorrowlight:{background:"#FFFFFF",black:"#1D1F21",blue:"#81A2BE",cyan:"#8ABEB7",foreground:"#373B41",green:"#B5BD68",magenta:"#B294BB",red:"#CC6666",white:"#C5C8C6",yellow:"#F0C674"},yousay:{background:"#F5E7DE",black:"#666661",blue:"#4C7399",cyan:"#D97742",foreground:"#34302D",green:"#4C3226",magenta:"#BF9986",red:"#992E2E",white:"#34302D",yellow:"#A67C53"}},e=function(t,e){return t.name=e,t.fade=function(e){return c(t.name,100)[e]},t},n=function(t){var n=t;return"string"!=typeof t||t.startsWith("rgb")||(t=d3.rgb(d3wb.color[t]),t=e(t,n)),t},r=function(t){for(var e=[],n=0;n<t.length;n++)t[n].startsWith("#")?e.push(""+d3.rgb(t[n])):e.push(""+d3wb.color(t[n]));return e},i=function(){for(var t=["blue","red","green","magenta","foreground"],e=[],n=0;n<t.length;n++){var r=d3wb.color.lohiScaleArray(t[n],5,[.6,.6]);e=e.concat(r)}return e},a=function(){for(var t=["blue","cyan","green","magenta","red","yellow","foreground"],e=[],r=0;r<t.length;r++)e.push(n(t[r]));return e},o=function(t,e,n){if(n=n||[0,1],e<=2)return[t(0),t(1)];var r=(n[1]-n[0])/e,i=n[0]+r,a=[];a.push(t(n[0]));do{a.push(t(i)),i+=r}while(i<n[1]-r-1e-4);return a.push(t(n[1])),a},l=function(t,e,r,i){t=n(t),e=n(e);var a=d3.interpolateRgb(t,e);return o(a,r,i)},c=function(t,e,n){n=n||[.4,.7];var r=e%2==0,i=r?e/2:(e+1)/2,a=l("black",t,r?i+1:i,[n[0],1]),o=l(t,"white",i,[0,n[1]]);return a.concat(o.slice(1))},u=function(){return d3.scaleOrdinal(d3wb.color.category())},d=function(){for(var t=[],e=2;e<25;e+=5)t.push(d3wb.color.category()[e]);return d3.scaleOrdinal(t)},s=function(t,e){return e=e||[d3wb.color.white,d3wb.color.black],d3.scaleLinear().domain(t).interpolate(d3.interpolate).range(e)},h=function(t,e){return d3.scaleQuantile().domain(t).range(e)};d3wb.theme=function(n){if(!arguments.length){var o=Object.keys(d3wb.color),g=[];for(var f in o)"function"!=typeof d3wb.color[o[f]]&&g.push(d3wb.color[o[f]].name);return g}var p=t[n],m={lohiScaleArray:c,array:r,gradientArray:l,category:i,categoryMain:a,quantile:h,linearGradient:s,ordinal:u,smallOrdinal:d};for(var y in p)m[y]=d3.rgb(p[y]),m[y]=e(m[y],y);d3wb.color=m},d3wb.theme("light")}(),function(){"use strict";var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};d3wb.util={setLocale:function(t){if("de"!=t)throw"Unsupported locale.";d3.timeFormat=d3.timeFormatLocale({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}).format},changeCSVSeparator:function(t){d3.csv=function(e,n){d3.request(e).mimeType("text/csv").response(function(e){return d3.dsvFormat(t).parse(e.responseText)}).get(n)}},smoothData:function(t,e,n,r){var i=[],a=[];t.forEach(function(e,o){var l=o+1;if(i.push(e[n]),l%r==0||l==t.length){var c=d3.median(i);a.push(c),i=[]}});var o=[],l=0,c=0;for(var u in a){a[u];for(var d=(l+=r)>t.length?t.length%r:r,s=0==u?t[0][n]:a[u-1],h=a[u],g=d3.interpolate(s,h),f=1/d,p=0,m=0;m<d;m++){p+=f;var y={};y[e]=t[c][e],y[n]=g(p),o.push(y),c+=1}}return o},countCsvColumn:function(t,e,n,r){n=void 0===n||n;var i=d3.nest().key(function(t){return t[e]}).entries(t);void 0!==r&&r.length>0&&(i=i.filter(function(t){return!r.includes(t.key)}));for(var a=[],o=0;o<i.length;o++){var l={label:i[o].key,count:+i[o].values.length};a.push(l)}var c=d3.sum(a,function(t){return+t.count});return a.forEach(function(t){t.percent=+t.count/c*100}),n&&a.sort(function(t,e){return e.percent-t.percent}),a},guid:function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},injectCSS:function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("style");n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)},logSVGSize:function(t){var e=t.ownerSVGElement.getBBox();console.log(e.x+" x "+e.y+" | "+e.width+" x "+e.height)},jsonAttributeMapToCSV:function(t){var e=["key"];for(var n in t[Object.keys(t)[0]])e.push(n);var r=['"'+e.join('","')+'"'];for(var i in t){var a=[i];for(var o in e)if(0!=o){var l=e[o];a.push(t[i][l])}r.push('"'+a.join('","')+'"')}var c=r.join("\n");return d3.csvParse(c)}}}();
